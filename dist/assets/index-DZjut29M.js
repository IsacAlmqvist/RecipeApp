(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Yd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function nA(){if($_)return Il;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var Z_;function iA(){return Z_||(Z_=1,Yd.exports=nA()),Yd.exports}var I=iA(),Qd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function rA(){if(W_)return Ce;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=A&&C[A]||C["@@iterator"],typeof C=="function"?C:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,x={};function M(C,$,ue){this.props=C,this.context=$,this.refs=x,this.updater=ue||P}M.prototype.isReactComponent={},M.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},M.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function B(){}B.prototype=M.prototype;function X(C,$,ue){this.props=C,this.context=$,this.refs=x,this.updater=ue||P}var J=X.prototype=new B;J.constructor=X,O(J,M.prototype),J.isPureReactComponent=!0;var ae=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function k(C,$,ue,oe,Z,fe){return ue=fe.ref,{$$typeof:r,type:C,key:$,ref:ue!==void 0?ue:null,props:fe}}function R(C,$){return k(C.type,$,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function L(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ue){return $[ue]})}var V=/\/+/g;function j(C,$){return typeof C=="object"&&C!==null&&C.key!=null?L(""+C.key):$.toString(36)}function D(){}function Ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(D,D):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function it(C,$,ue,oe,Z){var fe=typeof C;(fe==="undefined"||fe==="boolean")&&(C=null);var pe=!1;if(C===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(C.$$typeof){case r:case e:pe=!0;break;case E:return pe=C._init,it(pe(C._payload),$,ue,oe,Z)}}if(pe)return Z=Z(C),pe=oe===""?"."+j(C,0):oe,ae(Z)?(ue="",pe!=null&&(ue=pe.replace(V,"$&/")+"/"),it(Z,$,ue,"",function(Qe){return Qe})):Z!=null&&(w(Z)&&(Z=R(Z,ue+(Z.key==null||C&&C.key===Z.key?"":(""+Z.key).replace(V,"$&/")+"/")+pe)),$.push(Z)),1;pe=0;var Ue=oe===""?".":oe+":";if(ae(C))for(var Oe=0;Oe<C.length;Oe++)oe=C[Oe],fe=Ue+j(oe,Oe),pe+=it(oe,$,ue,fe,Z);else if(Oe=S(C),typeof Oe=="function")for(C=Oe.call(C),Oe=0;!(oe=C.next()).done;)oe=oe.value,fe=Ue+j(oe,Oe++),pe+=it(oe,$,ue,fe,Z);else if(fe==="object"){if(typeof C.then=="function")return it(Ye(C),$,ue,oe,Z);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return pe}function W(C,$,ue){if(C==null)return C;var oe=[],Z=0;return it(C,oe,"","",function(fe){return $.call(ue,fe,Z++)}),oe}function he(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(ue){(C._status===0||C._status===-1)&&(C._status=1,C._result=ue)},function(ue){(C._status===0||C._status===-1)&&(C._status=2,C._result=ue)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var te=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function me(){}return Ce.Children={map:W,forEach:function(C,$,ue){W(C,function(){$.apply(this,arguments)},ue)},count:function(C){var $=0;return W(C,function(){$++}),$},toArray:function(C){return W(C,function($){return $})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ce.Component=M,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=X,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(C){return le.H.useMemoCache(C)}},Ce.cache=function(C){return function(){return C.apply(null,arguments)}},Ce.cloneElement=function(C,$,ue){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var oe=O({},C.props),Z=C.key,fe=void 0;if($!=null)for(pe in $.ref!==void 0&&(fe=void 0),$.key!==void 0&&(Z=""+$.key),$)!de.call($,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&$.ref===void 0||(oe[pe]=$[pe]);var pe=arguments.length-2;if(pe===1)oe.children=ue;else if(1<pe){for(var Ue=Array(pe),Oe=0;Oe<pe;Oe++)Ue[Oe]=arguments[Oe+2];oe.children=Ue}return k(C.type,Z,void 0,void 0,fe,oe)},Ce.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ce.createElement=function(C,$,ue){var oe,Z={},fe=null;if($!=null)for(oe in $.key!==void 0&&(fe=""+$.key),$)de.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Z[oe]=$[oe]);var pe=arguments.length-2;if(pe===1)Z.children=ue;else if(1<pe){for(var Ue=Array(pe),Oe=0;Oe<pe;Oe++)Ue[Oe]=arguments[Oe+2];Z.children=Ue}if(C&&C.defaultProps)for(oe in pe=C.defaultProps,pe)Z[oe]===void 0&&(Z[oe]=pe[oe]);return k(C,fe,void 0,void 0,null,Z)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(C){return{$$typeof:m,render:C}},Ce.isValidElement=w,Ce.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:he}},Ce.memo=function(C,$){return{$$typeof:g,type:C,compare:$===void 0?null:$}},Ce.startTransition=function(C){var $=le.T,ue={};le.T=ue;try{var oe=C(),Z=le.S;Z!==null&&Z(ue,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(me,te)}catch(fe){te(fe)}finally{le.T=$}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(C){return le.H.use(C)},Ce.useActionState=function(C,$,ue){return le.H.useActionState(C,$,ue)},Ce.useCallback=function(C,$){return le.H.useCallback(C,$)},Ce.useContext=function(C){return le.H.useContext(C)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(C,$){return le.H.useDeferredValue(C,$)},Ce.useEffect=function(C,$,ue){var oe=le.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(C,$)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(C,$,ue){return le.H.useImperativeHandle(C,$,ue)},Ce.useInsertionEffect=function(C,$){return le.H.useInsertionEffect(C,$)},Ce.useLayoutEffect=function(C,$){return le.H.useLayoutEffect(C,$)},Ce.useMemo=function(C,$){return le.H.useMemo(C,$)},Ce.useOptimistic=function(C,$){return le.H.useOptimistic(C,$)},Ce.useReducer=function(C,$,ue){return le.H.useReducer(C,$,ue)},Ce.useRef=function(C){return le.H.useRef(C)},Ce.useState=function(C){return le.H.useState(C)},Ce.useSyncExternalStore=function(C,$,ue){return le.H.useSyncExternalStore(C,$,ue)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.1.0",Ce}var J_;function zm(){return J_||(J_=1,Qd.exports=rA()),Qd.exports}var G=zm(),Xd={exports:{}},Cl={},$d={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function sA(){return ev||(ev=1,function(r){function e(W,he){var te=W.length;W.push(he);e:for(;0<te;){var me=te-1>>>1,C=W[me];if(0<o(C,he))W[me]=he,W[te]=C,te=me;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var he=W[0],te=W.pop();if(te!==he){W[0]=te;e:for(var me=0,C=W.length,$=C>>>1;me<$;){var ue=2*(me+1)-1,oe=W[ue],Z=ue+1,fe=W[Z];if(0>o(oe,te))Z<C&&0>o(fe,oe)?(W[me]=fe,W[Z]=te,me=Z):(W[me]=oe,W[ue]=te,me=ue);else if(Z<C&&0>o(fe,te))W[me]=fe,W[Z]=te,me=Z;else break e}}return he}function o(W,he){var te=W.sortIndex-he.sortIndex;return te!==0?te:W.id-he.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,S=3,P=!1,O=!1,x=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var he=n(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=W)s(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(g)}}function le(W){if(x=!1,ae(W),!O)if(n(p)!==null)O=!0,de||(de=!0,j());else{var he=n(g);he!==null&&it(le,he.startTime-W)}}var de=!1,k=-1,R=5,w=-1;function L(){return M?!0:!(r.unstable_now()-w<R)}function V(){if(M=!1,de){var W=r.unstable_now();w=W;var he=!0;try{e:{O=!1,x&&(x=!1,X(k),k=-1),P=!0;var te=S;try{t:{for(ae(W),A=n(p);A!==null&&!(A.expirationTime>W&&L());){var me=A.callback;if(typeof me=="function"){A.callback=null,S=A.priorityLevel;var C=me(A.expirationTime<=W);if(W=r.unstable_now(),typeof C=="function"){A.callback=C,ae(W),he=!0;break t}A===n(p)&&s(p),ae(W)}else s(p);A=n(p)}if(A!==null)he=!0;else{var $=n(g);$!==null&&it(le,$.startTime-W),he=!1}}break e}finally{A=null,S=te,P=!1}he=void 0}}finally{he?j():de=!1}}}var j;if(typeof J=="function")j=function(){J(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ye=D.port2;D.port1.onmessage=V,j=function(){Ye.postMessage(null)}}else j=function(){B(V,0)};function it(W,he){k=B(function(){W(r.unstable_now())},he)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(W){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var te=S;S=he;try{return W()}finally{S=te}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=S;S=W;try{return he()}finally{S=te}},r.unstable_scheduleCallback=function(W,he,te){var me=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?me+te:me):te=me,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,W={id:E++,callback:he,priorityLevel:W,startTime:te,expirationTime:C,sortIndex:-1},te>me?(W.sortIndex=te,e(g,W),n(p)===null&&W===n(g)&&(x?(X(k),k=-1):x=!0,it(le,te-me))):(W.sortIndex=C,e(p,W),O||P||(O=!0,de||(de=!0,j()))),W},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(W){var he=S;return function(){var te=S;S=he;try{return W.apply(this,arguments)}finally{S=te}}}}(Zd)),Zd}var tv;function aA(){return tv||(tv=1,$d.exports=sA()),$d.exports}var Wd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function oA(){if(nv)return Xt;nv=1;var r=zm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var iv;function lA(){if(iv)return Wd.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wd.exports=oA(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function uA(){if(rv)return Cl;rv=1;var r=aA(),e=zm(),n=lA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case M:return"Profiler";case x:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case J:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var it=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},me=[],C=-1;function $(t){return{current:t}}function ue(t){0>C||(t.current=me[C],me[C]=null,C--)}function oe(t,i){C++,me[C]=t.current,t.current=i}var Z=$(null),fe=$(null),pe=$(null),Ue=$(null);function Oe(t,i){switch(oe(pe,i),oe(fe,t),oe(Z,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?A_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=A_(i),t=w_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(Z),oe(Z,t)}function Qe(){ue(Z),ue(fe),ue(pe)}function Sn(t){t.memoizedState!==null&&oe(Ue,t);var i=Z.current,a=w_(i,t.type);i!==a&&(oe(fe,t),oe(Z,a))}function Ei(t){fe.current===t&&(ue(Z),ue(fe)),Ue.current===t&&(ue(Ue),Sl._currentValue=te)}var ns=Object.prototype.hasOwnProperty,is=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,vo=r.unstable_shouldYield,cu=r.unstable_requestPaint,bn=r.unstable_now,Kh=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,$s=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,Yh=r.unstable_LowPriority,Zs=r.unstable_IdlePriority,To=r.log,hu=r.unstable_setDisableYieldValue,ft=null,Xe=null;function hn(t){if(typeof To=="function"&&hu(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ft,t)}catch{}}var Yt=Math.clz32?Math.clz32:as,fu=Math.log,Qh=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(fu(t)/Qh|0)|0}var os=256,ls=4194304;function Un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ws(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Un(l):(v&=T,v!==0?h=Un(v):a||(a=T&~t,a!==0&&(h=Un(a))))):(T=l&~d,T!==0?h=Un(T):v!==0?h=Un(v):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function us(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function So(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function Ao(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function Ti(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Si(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var ee=31-Yt(a),ie=1<<ee;T[ee]=0,N[ee]=-1;var K=F[ee];if(K!==null)for(F[ee]=null,ee=0;ee<K.length;ee++){var Y=K[ee];Y!==null&&(Y.lane&=-536870913)}a&=~ie}l!==0&&$n(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function $n(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Js(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ar(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:F_(t.type))}function du(t,i){var a=he.p;try{return he.p=t,i()}finally{he.p=a}}var at=Math.random().toString(36).slice(2),At="__reactFiber$"+at,vt="__reactProps$"+at,An="__reactContainer$"+at,Io="__reactEvents$"+at,Xh="__reactListeners$"+at,or="__reactHandles$"+at,mu="__reactResources$"+at,cs="__reactMarker$"+at;function lr(t){delete t[At],delete t[vt],delete t[Io],delete t[Xh],delete t[or]}function bi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[An]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=x_(t);t!==null;){if(a=t[At])return a;t=x_(t)}return i}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[At]||t[An]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[mu];return i||(i=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pt(t){t[cs]=!0}var Co=new Set,ea={};function jn(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(ea[t]=i,t=0;t<i.length;t++)Co.add(i[t])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},hs={};function yu(t){return ns.call(hs,t)?!0:ns.call(gu,t)?!1:pu.test(t)?hs[t]=!0:(gu[t]=!0,!1)}function ur(t,i,a){if(yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Jn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function jt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var fs,_u;function wi(t){if(fs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fs=i&&i[1]||"",_u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+_u}var ta=!1;function na(t,i){if(!t||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var K=Y}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(Y){K=Y}t.call(ie.prototype)}}else{try{throw Error()}catch(Y){K=Y}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),F=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===F.length)for(l=N.length-1,h=F.length-1;1<=l&&0<=h&&N[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==F[h]){var ee=`
`+N[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?wi(a):""}function xo(t){switch(t.tag){case 26:case 27:case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return na(t.type,!1);case 11:return na(t.type.render,!1);case 1:return na(t.type,!0);case 31:return wi("Activity");default:return""}}function ia(t){try{var i="";do i+=xo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function No(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $h(t){var i=No(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ra(t){t._valueTracker||(t._valueTracker=$h(t))}function Do(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=No(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zh=/[\n"\\]/g;function Et(t){return t.replace(Zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?cr(t,v,tn(i)):a!=null?cr(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function ms(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function cr(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function We(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function ps(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||gs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Oo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vu(t,d,i[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return Jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,xi=null;function Mo(t){var i=Zn(t);if(i&&(t=i.stateNode)){var a=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Do(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ri(t,!!a.multiple,i,!1)}}}var ei=!1;function Eu(t,i,a){if(ei)return t(i,a);ei=!0;try{var l=t(i);return l}finally{if(ei=!1,(Ci!==null||xi!==null)&&(dc(),Ci&&(i=Ci,t=xi,xi=Ci=null,Mo(i),t)))for(i=0;i<t.length;i++)Mo(t[i])}}function ys(t,i){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(zn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){In=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{In=!1}var ti=null,hr=null,Ni=null;function Vo(){if(Ni)return Ni;var t,i=hr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Po(){return!1}function Ot(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Po,this.isPropagationStopped=Po,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Ot(Ge),vs=E({},Ge,{view:0,detail:0}),Tu=Ot(vs),oa,la,ri,Es=E({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(oa=t.screenX-ri.screenX,la=t.screenY-ri.screenY):la=oa=0,ri=t),oa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),Cn=Ot(Es),Su=E({},Es,{dataTransfer:0}),ef=Ot(Su),Ts=E({},vs,{relatedTarget:0}),ua=Ot(Ts),Lo=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),ca=Ot(Lo),bu=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ha=Ot(bu),tf=E({},Ge,{data:0}),Uo=Ot(tf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=wu[t])?!!i[t]:!1}function bs(){return jo}var Ru=E({},vs,{key:function(t){if(t.key){var i=Ss[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fa=Ot(Ru),Iu=E({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=Ot(Iu),Di=E({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Cu=Ot(Di),xu=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=Ot(xu),Du=E({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),da=Ot(Du),nn=E({},Ge,{newState:0,oldState:0}),Ou=Ot(nn),ku=[9,13,27,32],si=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!si||c&&8<c&&11>=c),b=" ",H=!1;function Q(t,i){switch(t){case"keyup":return ku.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function wt(t,i){switch(t){case"compositionend":return ce(i);case"keypress":return i.which!==32?null:(H=!0,b);case"textInput":return t=i.data,t===b&&H?null:t;default:return null}}function ze(t,i){if(je)return t==="compositionend"||!si&&Q(t,i)?(t=Vo(),Ni=hr=ti=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Oi(t,i,a,l){Ci?xi?xi.push(l):xi=[l]:Ci=l,i=vc(i,"onChange"),0<i.length&&(a=new aa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ai=null;function Bo(t){v_(t,0)}function Mu(t){var i=Wn(t);if(Do(i))return t}function zp(t,i){if(t==="change")return i}var Bp=!1;if(zn){var nf;if(zn){var rf="oninput"in document;if(!rf){var Hp=document.createElement("div");Hp.setAttribute("oninput","return;"),rf=typeof Hp.oninput=="function"}nf=rf}else nf=!1;Bp=nf&&(!document.documentMode||9<document.documentMode)}function qp(){zt&&(zt.detachEvent("onpropertychange",Fp),ai=zt=null)}function Fp(t){if(t.propertyName==="value"&&Mu(ai)){var i=[];Oi(i,ai,t,Rn(t)),Eu(Bo,i)}}function OS(t,i,a){t==="focusin"?(qp(),zt=i,ai=a,zt.attachEvent("onpropertychange",Fp)):t==="focusout"&&qp()}function kS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(ai)}function MS(t,i){if(t==="click")return Mu(i)}function VS(t,i){if(t==="input"||t==="change")return Mu(i)}function PS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:PS;function Ho(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ns.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kp(t,i){var a=Gp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gp(a)}}function Yp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Qp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var LS=zn&&"documentMode"in document&&11>=document.documentMode,ma=null,af=null,qo=null,of=!1;function Xp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||ma==null||ma!==ds(l)||(l=ma,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&Ho(qo,l)||(qo=l,l=vc(af,"onSelect"),0<l.length&&(i=new aa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ma)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var pa={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},lf={},$p={};zn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function ws(t){if(lf[t])return lf[t];if(!pa[t])return t;var i=pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in $p)return lf[t]=i[a];return t}var Zp=ws("animationend"),Wp=ws("animationiteration"),Jp=ws("animationstart"),US=ws("transitionrun"),jS=ws("transitionstart"),zS=ws("transitioncancel"),eg=ws("transitionend"),tg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function Bn(t,i){tg.set(t,i),jn(i,[t])}var ng=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ia(i)},ng.set(t,i),i)}return{value:t,source:i,stack:ia(i)}}var Nn=[],ga=0,cf=0;function Vu(){for(var t=ga,i=cf=ga=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ig(a,h,d)}}function Pu(t,i,a,l){Nn[ga++]=t,Nn[ga++]=i,Nn[ga++]=a,Nn[ga++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,i,a,l){return Pu(t,i,a,l),Lu(t)}function ya(t,i){return Pu(t,null,null,i),Lu(t)}function ig(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Lu(t){if(50<ml)throw ml=0,yd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var _a={};function BS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new BS(t,i,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Uu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")ff(t)&&(v=1);else if(typeof t=="string")v=qb(t,a,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=mn(31,a,i,h),t.elementType=w,t.lanes=d,t;case O:return Rs(a.children,h,d,i);case x:v=8,h|=24;break;case M:return t=mn(12,a,i,h|2),t.elementType=M,t.lanes=d,t;case le:return t=mn(13,a,i,h),t.elementType=le,t.lanes=d,t;case de:return t=mn(19,a,i,h),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:case J:v=10;break e;case X:v=9;break e;case ae:v=11;break e;case k:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Rs(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function df(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function mf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var va=[],Ea=0,ju=null,zu=0,Dn=[],On=0,Is=null,Mi=1,Vi="";function Cs(t,i){va[Ea++]=zu,va[Ea++]=ju,ju=t,zu=i}function sg(t,i,a){Dn[On++]=Mi,Dn[On++]=Vi,Dn[On++]=Is,Is=t;var l=Mi;t=Vi;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var d=32-Yt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-Yt(i)+h|a<<h|l,Vi=d+t}else Mi=1<<d|a<<h|l,Vi=t}function pf(t){t.return!==null&&(Cs(t,1),sg(t,1,0))}function gf(t){for(;t===ju;)ju=va[--Ea],va[Ea]=null,zu=va[--Ea],va[Ea]=null;for(;t===Is;)Is=Dn[--On],Dn[On]=null,Vi=Dn[--On],Dn[On]=null,Mi=Dn[--On],Dn[On]=null}var rn=null,dt=null,Fe=!1,xs=null,oi=!1,yf=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Ko(xn(i,t)),yf}function ag(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[vt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Me(gl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ms(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ra(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ps(i,l.value,l.defaultValue,l.children),ra(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||b_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Ec),i=!0):i=!1,i||Ns(t)}function og(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:rn=rn.return}}function Fo(t){if(t!==rn)return!1;if(!Fe)return og(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||kd(t.type,t.memoizedProps)),a=!a),a&&dt&&Ns(t),og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){dt=qn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}dt=null}}else i===27?(i=dt,Ir(t.type)?(t=Ld,Ld=null,dt=t):dt=i):dt=rn?qn(t.stateNode.nextSibling):null;return!0}function Go(){dt=rn=null,Fe=!1}function lg(){var t=xs;return t!==null&&(on===null?on=t:on.push.apply(on,t),xs=null),t}function Ko(t){xs===null?xs=[t]:xs.push(t)}var _f=$(null),Ds=null,Pi=null;function fr(t,i,a){oe(_f,i._currentValue),i._currentValue=a}function Li(t){t._currentValue=_f.current,ue(_f)}function vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ef(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Yo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Ef(i,t,a,l),i.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return ug(Ds,t)}function Hu(t,i){return Ds===null&&Os(t),ug(t,i)}function ug(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var HS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},qS=r.unstable_scheduleCallback,FS=r.unstable_NormalPriority,It={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new HS,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&qS(FS,function(){t.controller.abort()})}var Xo=null,Sf=0,Ta=0,Sa=null;function GS(t,i){if(Xo===null){var a=Xo=[];Sf=0,Ta=Ad(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(cg,cg),i}function cg(){if(--Sf===0&&Xo!==null){Sa!==null&&(Sa.status="fulfilled");var t=Xo;Xo=null,Ta=0,Sa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function KS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hg=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GS(t,i),hg!==null&&hg(t,i)};var ks=$(null);function bf(){var t=ks.current;return t!==null?t:rt.pooledCache}function qu(t,i){i===null?oe(ks,ks.current):oe(ks,i.pool)}function fg(){var t=bf();return t===null?null:{parent:It._currentValue,pool:t}}var $o=Error(s(460)),dg=Error(s(474)),Fu=Error(s(542)),Af={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gu(){}function pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yg(t),t;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yg(t),t}throw Zo=i,$o}}var Zo=null;function gg(){if(Zo===null)throw Error(s(459));var t=Zo;return Zo=null,t}function yg(t){if(t===$o||t===Fu)throw Error(s(483))}var dr=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Lu(t),ig(t,null,a),i}return Pu(t,l,i,a),Lu(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}function If(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function Jo(){if(Cf){var t=Sa;if(t!==null)throw t}}function el(t,i,a,l){Cf=!1;var h=t.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,F=N.next;N.next=null,v===null?d=F:v.next=F,v=N;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==v&&(T===null?ee.firstBaseUpdate=F:T.next=F,ee.lastBaseUpdate=N))}if(d!==null){var ie=h.baseState;v=0,ee=F=N=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(Be&K)===K:(l&K)===K){K!==0&&K===Ta&&(Cf=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Te=T;K=i;var tt=a;switch(Te.tag){case 1:if(we=Te.payload,typeof we=="function"){ie=we.call(tt,ie,K);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,K=typeof we=="function"?we.call(tt,ie,K):we,K==null)break e;ie=E({},ie,K);break e;case 2:dr=!0}}K=T.callback,K!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(F=ee=Y,N=ie):ee=ee.next=Y,v|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);ee===null&&(N=ie),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=ee,d===null&&(h.shared.lanes=0),br|=v,t.lanes=v,t.memoizedState=ie}}function _g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function vg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_g(a[t],i)}var ba=$(null),Ku=$(0);function Eg(t,i){t=Fi,oe(Ku,t),oe(ba,i),Fi=t|i.baseLanes}function xf(){oe(Ku,Fi),oe(ba,ba.current)}function Nf(){Fi=Ku.current,ue(ba),ue(Ku)}var gr=0,xe=null,Je=null,Tt=null,Yu=!1,Aa=!1,Ms=!1,Qu=0,tl=0,wa=null,YS=0;function gt(){throw Error(s(321))}function Df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function Of(t,i,a,l,h,d){return gr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?iy:ry,Ms=!1,d=a(l,h),Ms=!1,Aa&&(d=Sg(i,a,l,h)),Tg(t),d}function Tg(t){W.H=ec;var i=Je!==null&&Je.next!==null;if(gr=0,Tt=Je=xe=null,Yu=!1,tl=0,wa=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Bu(t)&&(Mt=!0))}function Sg(t,i,a,l){xe=t;var h=0;do{if(Aa&&(wa=null),tl=0,Aa=!1,25<=h)throw Error(s(301));if(h+=1,Tt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=eb,d=i(a,l)}while(Aa);return d}function QS(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(xe.flags|=1024),i}function kf(){var t=Qu!==0;return Qu=0,t}function Mf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Vf(t){if(Yu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Yu=!1}gr=0,Tt=Je=xe=null,Aa=!1,tl=Qu=0,wa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?xe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function St(){if(Je===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Tt===null?xe.memoizedState:Tt.next;if(i!==null)Tt=i,Je=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?xe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(t){var i=tl;return tl+=1,wa===null&&(wa=[]),t=pg(wa,t,i),i=xe,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?iy:ry),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===J)return Qt(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Pf(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function $u(t){var i=St();return Uf(i,Je,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,N=null,F=i,ee=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Be&ie)===ie:(gr&ie)===ie){var K=F.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Ta&&(ee=!0);else if((gr&K)===K){F=F.next,K===Ta&&(ee=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(T=N=ie,v=d):N=N.next=ie,xe.lanes|=K,br|=K;ie=F.action,Ms&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else K={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(T=N=K,v=d):N=N.next=K,xe.lanes|=ie,br|=ie;F=F.next}while(F!==null&&F!==i);if(N===null?v=d:N.next=T,!dn(d,t.memoizedState)&&(Mt=!0,ee&&(a=Sa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function bg(t,i,a){var l=xe,h=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Je||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var T=Rg.bind(null,l,h,t);if(il(2048,8,T,[t]),h.getSnapshot!==i||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Ra(9,Zu(),wg.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||(gr&124)!==0||Ag(l,i,a)}return a}function Ag(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=Pf(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function wg(t,i,a,l){i.value=a,i.getSnapshot=l,Ig(i)&&Cg(t)}function Rg(t,i,a){return a(function(){Ig(i)&&Cg(t)})}function Ig(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Cg(t){var i=ya(t,2);i!==null&&vn(i,t,2)}function zf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ms){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function xg(t,i,a,l){return t.baseState=a,Uf(t,Je,typeof l=="function"?l:Ui)}function XS(t,i,a,l,h){if(Ju(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ng(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ng(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,v={};W.T=v;try{var T=a(h,l),N=W.S;N!==null&&N(v,T),Dg(t,i,T)}catch(F){Bf(t,i,F)}finally{W.T=d}}else try{d=a(h,l),Dg(t,i,d)}catch(F){Bf(t,i,F)}}function Dg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Og(t,i,l)},function(l){return Bf(t,i,l)}):Og(t,i,a)}function Og(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ng(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==l)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Mg(t,i){return i}function Vg(t,i){if(Fe){var a=rt.formState;if(a!==null){e:{var l=xe;if(Fe){if(dt){t:{for(var h=dt,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=qn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=l,a=ey.bind(null,xe,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,xe,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=XS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=St();return Lg(i,Je,t)}function Lg(t,i,a){if(i=Uf(t,i,Mg)[0],t=$u(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(v){throw v===$o?Fu:v}else l=i;i=St();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Ra(9,Zu(),$S.bind(null,h,a),null)),[l,d,t]}function $S(t,i){t.action=i}function Ug(t){var i=St(),a=Je;if(a!==null)return Lg(i,a,t);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ra(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=Pf(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Zu(){return{destroy:void 0,resource:void 0}}function jg(){return St().memoizedState}function Wu(t,i,a,l){var h=sn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=Ra(1|i,Zu(),a,l)}function il(t,i,a,l){var h=St();l=l===void 0?null:l;var d=h.memoizedState.inst;Je!==null&&l!==null&&Df(l,Je.memoizedState.deps)?h.memoizedState=Ra(i,d,a,l):(xe.flags|=t,h.memoizedState=Ra(1|i,d,a,l))}function zg(t,i){Wu(8390656,8,t,i)}function Bg(t,i){il(2048,8,t,i)}function Hg(t,i){return il(4,2,t,i)}function qg(t,i){return il(4,4,t,i)}function Fg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,il(4,4,Fg.bind(null,i,t),a)}function Hf(){}function Kg(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Yg(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=t(),Ms){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function qf(t,i,a){return a===void 0||(gr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=$y(),xe.lanes|=t,br|=t,a)}function Qg(t,i,a,l){return dn(a,i)?a:ba.current!==null?(t=qf(t,a,l),dn(t,i)||(Mt=!0),t):(gr&42)===0?(Mt=!0,t.memoizedState=a):(t=$y(),xe.lanes|=t,br|=t,i)}function Xg(t,i,a,l,h){var d=he.p;he.p=d!==0&&8>d?d:8;var v=W.T,T={};W.T=T,Kf(t,!1,i,a);try{var N=h(),F=W.S;if(F!==null&&F(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=KS(N,l);rl(t,i,ee,_n(t))}else rl(t,i,l,_n(t))}catch(ie){rl(t,i,{then:function(){},status:"rejected",reason:ie},_n())}finally{he.p=d,W.T=v}}function ZS(){}function Ff(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$g(t).queue;Xg(t,h,i,te,a===null?ZS:function(){return Zg(t),a(l)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Zg(t){var i=$g(t).next.queue;rl(t,i,{},_n())}function Gf(){return Qt(Sl)}function Wg(){return St().memoizedState}function Jg(){return St().memoizedState}function WS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=mr(a);var l=pr(i,t,a);l!==null&&(vn(l,i,a),Wo(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function JS(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?ty(i,a):(a=hf(t,i,a,l),a!==null&&(vn(a,t,l),ny(a,i,l)))}function ey(t,i,a){var l=_n();rl(t,i,a,l)}function rl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))ty(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return Pu(t,i,h,0),rt===null&&Vu(),!1}catch{}finally{}if(a=hf(t,i,h,l),a!==null)return vn(a,t,l),ny(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:Ad(),action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(i)throw Error(s(479))}else i=hf(t,a,l,2),i!==null&&vn(i,t,2)}function Ju(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function ty(t,i){Aa=Yu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ro(t,a)}}var ec={readContext:Qt,use:Xu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},iy={readContext:Qt,use:Xu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Wu(4194308,4,Fg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Wu(4194308,4,t,i)},useInsertionEffect:function(t,i){Wu(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ms){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ms){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=JS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=ey.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,i){var a=sn();return qf(a,t,i)},useTransition:function(){var t=zf(!1);return t=Xg.bind(null,xe,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=sn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Be&124)!==0||Ag(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,zg(Rg.bind(null,l,d,t),[t]),l.flags|=2048,Ra(9,Zu(),wg.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=rt.identifierPrefix;if(Fe){var a=Vi,l=Mi;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Qu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=YS++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return sn().memoizedState=WS.bind(null,xe)}},ry={readContext:Qt,use:Xu,useCallback:Kg,useContext:Qt,useEffect:Bg,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Yg,useReducer:$u,useRef:jg,useState:function(){return $u(Ui)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=St();return Qg(a,Je.memoizedState,t,i)},useTransition:function(){var t=$u(Ui)[0],i=St().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:bg,useId:Wg,useHostTransitionStatus:Gf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=St();return xg(a,Je,t,i)},useMemoCache:Lf,useCacheRefresh:Jg},eb={readContext:Qt,use:Xu,useCallback:Kg,useContext:Qt,useEffect:Bg,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Yg,useReducer:jf,useRef:jg,useState:function(){return jf(Ui)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=St();return Je===null?qf(a,t,i):Qg(a,Je.memoizedState,t,i)},useTransition:function(){var t=jf(Ui)[0],i=St().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:bg,useId:Wg,useHostTransitionStatus:Gf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,i){var a=St();return Je!==null?xg(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:Jg},Ia=null,sl=0;function tc(t){var i=sl;return sl+=1,Ia===null&&(Ia=[]),pg(Ia,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sy(t){var i=t._init;return i(t._payload)}function ay(t){function i(z,U){if(t){var q=z.deletions;q===null?(z.deletions=[U],z.flags|=16):q.push(U)}}function a(z,U){if(!t)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=ki(z,U),z.index=0,z.sibling=null,z}function d(z,U,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<U?(z.flags|=67108866,U):q):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,U,q,ne){return U===null||U.tag!==6?(U=df(q,z.mode,ne),U.return=z,U):(U=h(U,q),U.return=z,U)}function N(z,U,q,ne){var ye=q.type;return ye===O?ee(z,U,q.props.children,ne,q.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&sy(ye)===U.type)?(U=h(U,q.props),al(U,q),U.return=z,U):(U=Uu(q.type,q.key,q.props,null,z.mode,ne),al(U,q),U.return=z,U)}function F(z,U,q,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=mf(q,z.mode,ne),U.return=z,U):(U=h(U,q.children||[]),U.return=z,U)}function ee(z,U,q,ne,ye){return U===null||U.tag!==7?(U=Rs(q,z.mode,ne,ye),U.return=z,U):(U=h(U,q),U.return=z,U)}function ie(z,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=df(""+U,z.mode,q),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return q=Uu(U.type,U.key,U.props,null,z.mode,q),al(q,U),q.return=z,q;case P:return U=mf(U,z.mode,q),U.return=z,U;case R:var ne=U._init;return U=ne(U._payload),ie(z,U,q)}if(it(U)||j(U))return U=Rs(U,z.mode,q,null),U.return=z,U;if(typeof U.then=="function")return ie(z,tc(U),q);if(U.$$typeof===J)return ie(z,Hu(z,U),q);nc(z,U)}return null}function K(z,U,q,ne){var ye=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:T(z,U,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===ye?N(z,U,q,ne):null;case P:return q.key===ye?F(z,U,q,ne):null;case R:return ye=q._init,q=ye(q._payload),K(z,U,q,ne)}if(it(q)||j(q))return ye!==null?null:ee(z,U,q,ne,null);if(typeof q.then=="function")return K(z,U,tc(q),ne);if(q.$$typeof===J)return K(z,U,Hu(z,q),ne);nc(z,q)}return null}function Y(z,U,q,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(q)||null,T(U,z,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return z=z.get(ne.key===null?q:ne.key)||null,N(U,z,ne,ye);case P:return z=z.get(ne.key===null?q:ne.key)||null,F(U,z,ne,ye);case R:var De=ne._init;return ne=De(ne._payload),Y(z,U,q,ne,ye)}if(it(ne)||j(ne))return z=z.get(q)||null,ee(U,z,ne,ye,null);if(typeof ne.then=="function")return Y(z,U,q,tc(ne),ye);if(ne.$$typeof===J)return Y(z,U,q,Hu(U,ne),ye);nc(U,ne)}return null}function we(z,U,q,ne){for(var ye=null,De=null,_e=U,Se=U=0,Pt=null;_e!==null&&Se<q.length;Se++){_e.index>Se?(Pt=_e,_e=null):Pt=_e.sibling;var qe=K(z,_e,q[Se],ne);if(qe===null){_e===null&&(_e=Pt);break}t&&_e&&qe.alternate===null&&i(z,_e),U=d(qe,U,Se),De===null?ye=qe:De.sibling=qe,De=qe,_e=Pt}if(Se===q.length)return a(z,_e),Fe&&Cs(z,Se),ye;if(_e===null){for(;Se<q.length;Se++)_e=ie(z,q[Se],ne),_e!==null&&(U=d(_e,U,Se),De===null?ye=_e:De.sibling=_e,De=_e);return Fe&&Cs(z,Se),ye}for(_e=l(_e);Se<q.length;Se++)Pt=Y(_e,z,Se,q[Se],ne),Pt!==null&&(t&&Pt.alternate!==null&&_e.delete(Pt.key===null?Se:Pt.key),U=d(Pt,U,Se),De===null?ye=Pt:De.sibling=Pt,De=Pt);return t&&_e.forEach(function(Or){return i(z,Or)}),Fe&&Cs(z,Se),ye}function Te(z,U,q,ne){if(q==null)throw Error(s(151));for(var ye=null,De=null,_e=U,Se=U=0,Pt=null,qe=q.next();_e!==null&&!qe.done;Se++,qe=q.next()){_e.index>Se?(Pt=_e,_e=null):Pt=_e.sibling;var Or=K(z,_e,qe.value,ne);if(Or===null){_e===null&&(_e=Pt);break}t&&_e&&Or.alternate===null&&i(z,_e),U=d(Or,U,Se),De===null?ye=Or:De.sibling=Or,De=Or,_e=Pt}if(qe.done)return a(z,_e),Fe&&Cs(z,Se),ye;if(_e===null){for(;!qe.done;Se++,qe=q.next())qe=ie(z,qe.value,ne),qe!==null&&(U=d(qe,U,Se),De===null?ye=qe:De.sibling=qe,De=qe);return Fe&&Cs(z,Se),ye}for(_e=l(_e);!qe.done;Se++,qe=q.next())qe=Y(_e,z,Se,qe.value,ne),qe!==null&&(t&&qe.alternate!==null&&_e.delete(qe.key===null?Se:qe.key),U=d(qe,U,Se),De===null?ye=qe:De.sibling=qe,De=qe);return t&&_e.forEach(function(tA){return i(z,tA)}),Fe&&Cs(z,Se),ye}function tt(z,U,q,ne){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var ye=q.key;U!==null;){if(U.key===ye){if(ye=q.type,ye===O){if(U.tag===7){a(z,U.sibling),ne=h(U,q.props.children),ne.return=z,z=ne;break e}}else if(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&sy(ye)===U.type){a(z,U.sibling),ne=h(U,q.props),al(ne,q),ne.return=z,z=ne;break e}a(z,U);break}else i(z,U);U=U.sibling}q.type===O?(ne=Rs(q.props.children,z.mode,ne,q.key),ne.return=z,z=ne):(ne=Uu(q.type,q.key,q.props,null,z.mode,ne),al(ne,q),ne.return=z,z=ne)}return v(z);case P:e:{for(ye=q.key;U!==null;){if(U.key===ye)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(z,U.sibling),ne=h(U,q.children||[]),ne.return=z,z=ne;break e}else{a(z,U);break}else i(z,U);U=U.sibling}ne=mf(q,z.mode,ne),ne.return=z,z=ne}return v(z);case R:return ye=q._init,q=ye(q._payload),tt(z,U,q,ne)}if(it(q))return we(z,U,q,ne);if(j(q)){if(ye=j(q),typeof ye!="function")throw Error(s(150));return q=ye.call(q),Te(z,U,q,ne)}if(typeof q.then=="function")return tt(z,U,tc(q),ne);if(q.$$typeof===J)return tt(z,U,Hu(z,q),ne);nc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(z,U.sibling),ne=h(U,q),ne.return=z,z=ne):(a(z,U),ne=df(q,z.mode,ne),ne.return=z,z=ne),v(z)):a(z,U)}return function(z,U,q,ne){try{sl=0;var ye=tt(z,U,q,ne);return Ia=null,ye}catch(_e){if(_e===$o||_e===Fu)throw _e;var De=mn(29,_e,null,z.mode);return De.lanes=ne,De.return=z,De}finally{}}}var Ca=ay(!0),oy=ay(!1),kn=$(null),li=null;function yr(t){var i=t.alternate;oe(Ct,Ct.current&1),oe(kn,t),li===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(li=t)}function ly(t){if(t.tag===22){if(oe(Ct,Ct.current),oe(kn,t),li===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(li=t)}}else _r()}function _r(){oe(Ct,Ct.current),oe(kn,kn.current)}function ji(t){ue(kn),li===t&&(li=null),ue(Ct)}var Ct=$(0);function ic(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(vn(i,t,l),Wo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(vn(i,t,l),Wo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(t,l,a),i!==null&&(vn(i,t,a),Wo(i,t,a))}};function uy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,l)||!Ho(h,d):!0}function cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hy(t){rc(t)}function fy(t){console.error(t)}function dy(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function my(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function py(t){return t=mr(t),t.tag=3,t}function gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){my(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){my(i,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Yo(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return li===null?vd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(t,l,h)),!1;case 22:return a.flags|=65536,l===Af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(t,l,h)),!1}throw Error(s(435,a.tag))}return Td(t,l,h),vd(),!1}if(Fe)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(t=Error(s(422),{cause:l}),Ko(xn(t,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),Ko(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=Xf(t.stateNode,l,h),If(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),dl===null?dl=[d]:dl.push(d),mt!==4&&(mt=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),If(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var yy=Error(s(461)),Mt=!1;function Bt(t,i,a,l){i.child=t===null?oy(i,null,a,l):Ca(i,t.child,a,l)}function _y(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(i),l=Of(t,i,a,v,d,h),T=kf(),t!==null&&!Mt?(Mf(t,i,h),zi(t,i,h)):(Fe&&T&&pf(i),i.flags|=1,Bt(t,i,l,h),i.child)}function vy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ey(t,i,d,l,h)):(t=Uu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!id(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(v,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ey(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ho(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return $f(t,i,a,l,h)}function Ty(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Sy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(i,d!==null?d.cachePool:null),d!==null?Eg(i,d):xf(),ly(i);else return i.lanes=i.childLanes=536870912,Sy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(qu(i,d.cachePool),Eg(i,d),_r(),i.memoizedState=null):(t!==null&&qu(i,null),xf(),_r());return Bt(t,i,h,a),i.child}function Sy(t,i,a,l){var h=bf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&qu(i,null),xf(),ly(i),t!==null&&Yo(t,i,l,!0),null}function ac(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function $f(t,i,a,l,h){return Os(i),a=Of(t,i,a,l,void 0,h),l=kf(),t!==null&&!Mt?(Mf(t,i,h),zi(t,i,h)):(Fe&&l&&pf(i),i.flags|=1,Bt(t,i,a,h),i.child)}function by(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Sg(i,l,a,h),Tg(t),l=kf(),t!==null&&!Mt?(Mf(t,i,d),zi(t,i,d)):(Fe&&l&&pf(i),i.flags|=1,Bt(t,i,a,d),i.child)}function Ay(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=_a,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):_a,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qf.enqueueReplaceState(d,d.state,null),el(i,l,d,h),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Vs(a,T);d.props=N;var F=d.context,ee=a.contextType;v=_a,typeof ee=="object"&&ee!==null&&(v=Qt(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==v)&&cy(i,d,l,v),dr=!1;var K=i.memoizedState;d.state=K,el(i,l,d,h),Jo(),F=i.memoizedState,T||K!==F||dr?(typeof ie=="function"&&(Yf(i,a,ie,l),F=i.memoizedState),(N=dr||uy(i,a,N,l,K,F,v))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),v=i.memoizedProps,ee=Vs(a,v),d.props=ee,ie=i.pendingProps,K=d.context,F=a.contextType,N=_a,typeof F=="object"&&F!==null&&(N=Qt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ie||K!==N)&&cy(i,d,l,N),dr=!1,K=i.memoizedState,d.state=K,el(i,l,d,h),Jo();var Y=i.memoizedState;v!==ie||K!==Y||dr||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof T=="function"&&(Yf(i,a,T,l),Y=i.memoizedState),(ee=dr||uy(i,a,ee,l,K,Y,N)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=ee):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ac(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ca(i,t.child,null,h),i.child=Ca(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function wy(t,i,a,l){return Go(),i.flags|=256,Bt(t,i,a,l),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:fg()}}function Jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function Ry(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?yr(i):_r(),Fe){var T=dt,N;if(N=T){e:{for(N=T,T=oi;N.nodeType!==8;){if(!T){T=null;break e}if(N=qn(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:Is!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},N=mn(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,rn=i,dt=null,N=!0):N=!1}N||Ns(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Pd(T)?i.lanes=32:i.lanes=536870912,null;ji(i)}return T=l.children,l=l.fallback,h?(_r(),h=i.mode,T=oc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Wf(a),h.childLanes=Jf(t,v,a),i.memoizedState=Zf,l):(yr(i),ed(i,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=td(t,i,a)):i.memoizedState!==null?(_r(),i.child=t.child,i.flags|=128,i=null):(_r(),h=l.fallback,T=i.mode,l=oc({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ca(i,t.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=Jf(t,v,a),i.memoizedState=Zf,i=h);else if(yr(i),Pd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,Ko({value:l,source:null,stack:null}),i=td(t,i,a)}else if(Mt||Yo(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=rt,v!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,ya(t,l),vn(v,t,l),yy;T.data==="$?"||vd(),i=td(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=qn(T.nextSibling),rn=i,Fe=!0,xs=null,oi=!1,t!==null&&(Dn[On++]=Mi,Dn[On++]=Vi,Dn[On++]=Is,Mi=t.id,Vi=t.overflow,Is=i),i=ed(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,T=i.mode,N=t.child,F=N.sibling,l=ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?h=ki(F,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Wf(a):(N=T.cachePool,N!==null?(F=It._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=fg(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=Jf(t,v,a),i.memoizedState=Zf,l):(yr(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ed(t,i){return i=oc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function oc(t,i){return t=mn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function td(t,i,a){return Ca(i,t.child,null,a),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Iy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vf(t.return,i,a)}function nd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Cy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iy(t,a,i);else if(t.tag===19)Iy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ic(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(i,!0,a,null,d);break;case"together":nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Yo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function nb(t,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),fr(i,It,t.memoizedState.cache),Go();break;case 27:case 5:Sn(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ry(t,i,a):(yr(i),t=zi(t,i,a),t!==null?t.sibling:null);yr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Yo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Cy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,Ty(t,i,a);case 24:fr(i,It,t.memoizedState.cache)}return zi(t,i,a)}function xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!id(t,a)&&(i.flags&128)===0)return Mt=!1,nb(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Fe&&(i.flags&1048576)!==0&&sg(i,zu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ff(l)?(t=Vs(l,t),i.tag=1,i=Ay(null,i,l,t,a)):(i.tag=0,i=$f(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ae){i.tag=11,i=_y(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=vy(null,i,l,t,a);break e}}throw i=Ye(l)||l,Error(s(306,i,""))}}return i;case 0:return $f(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Vs(l,i.pendingProps),Ay(t,i,l,h,a);case 3:e:{if(Oe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),el(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fr(i,It,l),l!==d.cache&&Ef(i,[It],a,!0),Jo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=wy(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),Ko(h),i=wy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=qn(t.firstChild),rn=i,Fe=!0,xs=null,oi=!0,a=oy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===h){i=zi(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return ac(t,i),t===null?(a=k_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Tc(pe.current).createElement(a),l[At]=i,l[vt]=t,qt(l,a,t),pt(l),i.stateNode=l):i.memoizedState=k_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Sn(i),t===null&&Fe&&(l=i.stateNode=N_(i.type,i.pendingProps,pe.current),rn=i,oi=!0,h=dt,Ir(i.type)?(Ld=h,dt=qn(l.firstChild)):dt=h),Bt(t,i,i.pendingProps.children,a),ac(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=dt)&&(l=Nb(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,rn=i,dt=qn(l.firstChild),oi=!1,h=!0):h=!1),h||Ns(i)),Sn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,kd(h,d)?l=null:v!==null&&kd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(t,i,QS,null,null,a),Sl._currentValue=h),ac(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=Db(a,i.pendingProps,oi),a!==null?(i.stateNode=a,rn=i,dt=null,t=!0):t=!1),t||Ns(i)),null;case 13:return Ry(t,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ca(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return _y(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Qt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return vy(t,i,i.type,i.pendingProps,a);case 15:return Ey(t,i,i.type,i.pendingProps,a);case 19:return Cy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=oc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ki(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ty(t,i,a);case 24:return Os(i),l=Qt(It),t===null?(h=bf(),h===null&&(h=rt,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),fr(i,It,h)):((t.lanes&a)!==0&&(Rf(t,i),el(i,null,null,a),Jo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,It,l)):(l=d.cache,fr(i,It,l),l!==h.cache&&Ef(i,[It],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(t){t.flags|=4}function Ny(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U_(i)){if(i=kn.current,i!==null&&((Be&4194048)===Be?li!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==li))throw Zo=Af,dg;t.flags|=8192}}function lc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ao():536870912,t.lanes|=i,Oa|=i)}function ol(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ib(t,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Li(It),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fo(i)?Bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lg())),ct(i),null;case 26:return a=i.memoizedState,t===null?(Bi(i),a!==null?(ct(i),Ny(i,a)):(ct(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Bi(i),ct(i),Ny(i,a)):(ct(i),i.flags&=-16777217):(t.memoizedProps!==l&&Bi(i),ct(i),i.flags&=-16777217),null;case 27:Ei(i),a=pe.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}t=Z.current,Fo(i)?ag(i):(t=N_(h,l,a),i.stateNode=t,Bi(i))}return ct(i),null;case 5:if(Ei(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ct(i),null}if(t=Z.current,Fo(i))ag(i);else{switch(h=Tc(pe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=i,t[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Bi(i)}}return ct(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=pe.current,Fo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||Ns(i)}else t=Tc(t).createTextNode(l),t[At]=i,i.stateNode=t}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=lg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ji(i),i):(ji(i),null)}if(ji(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),lc(i,i.updateQueue),ct(i),null;case 4:return Qe(),t===null&&Cd(i.stateNode.containerInfo),ct(i),null;case 10:return Li(i.type),ct(i),null;case 19:if(ue(Ct),h=i.memoizedState,h===null)return ct(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ic(t),d!==null){for(i.flags|=128,ol(h,!1),t=d.updateQueue,i.updateQueue=t,lc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)rg(a,t),a=a.sibling;return oe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&bn()>hc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(t=ic(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,lc(i,t),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ct(i),null}else 2*bn()-h.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bn(),i.sibling=null,t=Ct.current,oe(Ct,l?t&1|2:t&1),i):(ct(i),null);case 22:case 23:return ji(i),Nf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&lc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Li(It),ct(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rb(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Li(It),Qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ei(i),null;case 13:if(ji(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(Ct),null;case 4:return Qe(),null;case 10:return Li(i.type),null;case 22:case 23:return ji(i),Nf(),t!==null&&ue(ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Li(It),null;case 25:return null;default:return null}}function Dy(t,i){switch(gf(i),i.tag){case 3:Li(It),Qe();break;case 26:case 27:case 5:Ei(i);break;case 4:Qe();break;case 13:ji(i);break;case 19:ue(Ct);break;case 10:Li(i.type);break;case 22:case 23:ji(i),Nf(),t!==null&&ue(ks);break;case 24:Li(It)}}function ll(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){nt(i,i.return,T)}}function vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var N=a,F=T;try{F()}catch(ee){nt(h,N,ee)}}}l=l.next}while(l!==d)}}catch(ee){nt(i,i.return,ee)}}function Oy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{vg(i,a)}catch(l){nt(t,t.return,l)}}}function ky(t,i,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){nt(t,i,l)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){nt(t,i,h)}}function ui(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,i,h)}else a.current=null}function My(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function rd(t,i,a){try{var l=t.stateNode;wb(l,t.type,a,i),l[vt]=i}catch(h){nt(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ir(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ec));else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ad(t,i,a),t=t.sibling;t!==null;)ad(t,i,a),t=t.sibling}function uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ir(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,a),i[At]=t,i[vt]=a}catch(d){nt(t,t.return,d)}}var Hi=!1,yt=!1,od=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function sb(t,i){if(t=t.containerInfo,Dd=Ic,t=Qp(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,N=-1,F=0,ee=0,ie=t,K=null;t:for(;;){for(var Y;ie!==a||h!==0&&ie.nodeType!==3||(T=v+h),ie!==d||l!==0&&ie.nodeType!==3||(N=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)K=ie,ie=Y;for(;;){if(ie===t)break t;if(K===a&&++F===h&&(T=v),K===d&&++ee===l&&(N=v),(Y=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Y}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Od={focusedElem:t,selectionRange:a},Ic=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Vs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){nt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function Uy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(t,a),l&4&&ll(5,a);break;case 1:if(Er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){nt(a,a.return,v)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&Oy(a),l&512&&ul(a,a.return);break;case 3:if(Er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{vg(t,i)}catch(v){nt(a,a.return,v)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:Er(t,a),i===null&&l&4&&My(a),l&512&&ul(a,a.return);break;case 12:Er(t,a);break;case 13:Er(t,a),l&4&&By(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mb.bind(null,a),Ob(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){i=i!==null&&i.memoizedState!==null||yt,h=Hi;var d=yt;Hi=l,(yt=i)&&!d?Tr(t,a,(a.subtreeFlags&8772)!==0):Er(t,a),Hi=h,yt=d}break;case 30:break;default:Er(t,a)}}function jy(t){var i=t.alternate;i!==null&&(t.alternate=null,jy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function qi(t,i,a){for(a=a.child;a!==null;)zy(t,i,a),a=a.sibling}function zy(t,i,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||ui(a,i),qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||ui(a,i);var l=ot,h=an;Ir(a.type)&&(ot=a.stateNode,an=!1),qi(t,i,a),_l(a.stateNode),ot=l,an=h;break;case 5:yt||ui(a,i);case 6:if(l=ot,h=an,ot=null,qi(t,i,a),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){nt(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){nt(a,i,d)}break;case 18:ot!==null&&(an?(t=ot,C_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):C_(ot,a.stateNode));break;case 4:l=ot,h=an,ot=a.stateNode.containerInfo,an=!0,qi(t,i,a),ot=l,an=h;break;case 0:case 11:case 14:case 15:yt||vr(2,a,i),yt||vr(4,a,i),qi(t,i,a);break;case 1:yt||(ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),qi(t,i,a);break;case 21:qi(t,i,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,qi(t,i,a),yt=l;break;default:qi(t,i,a)}}function By(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){nt(i,i.return,a)}}function ab(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ly),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ly),i;default:throw Error(s(435,t.tag))}}function ld(t,i){var a=ab(t);i.forEach(function(l){var h=pb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){ot=T.stateNode,an=!1;break e}break;case 5:ot=T.stateNode,an=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(ot===null)throw Error(s(160));zy(d,v,h),ot=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Hy(i,t),i=i.sibling}var Hn=null;function Hy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(vr(3,t,t.return),ll(3,t),vr(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(yt||a===null||ui(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(pn(i,t),gn(t),l&512&&(yt||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[At]=t,pt(d),l=d;break e;case"link":var v=P_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=P_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,pt(d),l=d}t.stateNode=l}else L_(h,t.type,t.stateNode);else t.stateNode=V_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?L_(h,t.type,t.stateNode):V_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(yt||a===null||ui(a,a.return)),a!==null&&l&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(yt||a===null||ui(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(Y){nt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){nt(t,t.return,Y)}}break;case 3:if(Ac=null,h=Hn,Hn=Sc(i.containerInfo),pn(i,t),Hn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(Y){nt(t,t.return,Y)}od&&(od=!1,qy(t));break;case 4:l=Hn,Hn=Sc(t.stateNode.containerInfo),pn(i,t),gn(t),Hn=l;break;case 12:pn(i,t),gn(t);break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ld(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=Hi,ee=yt;if(Hi=F||h,yt=ee||N,pn(i,t),yt=ee,Hi=F,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Hi||yt||Ps(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var ie=N.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){nt(N,N.return,Y)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Y){nt(N,N.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ld(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ld(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=sd(t);uc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var T=sd(t);uc(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,F=sd(t);ad(t,F,N);break;default:throw Error(s(161))}}catch(ee){nt(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uy(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Ps(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),Ps(i);break;case 27:_l(i.stateNode);case 26:case 5:ui(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function Tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),ll(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){nt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)_g(N[h],T)}catch(F){nt(l,l.return,F)}}a&&v&64&&Oy(d),ul(d,d.return);break;case 27:Py(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&My(d),ul(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&By(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ul(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Qo(a))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t))}function ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fy(t,i,a,l),i=i.sibling}function Fy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,a,l),h&2048&&ll(9,i);break;case 1:ci(t,i,a,l);break;case 3:ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){ci(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){nt(i,i.return,N)}}else ci(t,i,a,l);break;case 13:ci(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(t,i,a,l):cl(t,i):d._visibility&2?ci(t,i,a,l):(d._visibility|=2,xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ud(v,i);break;case 24:ci(t,i,a,l),h&2048&&cd(i.alternate,i);break;default:ci(t,i,a,l)}}function xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,N=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:xa(d,v,T,N,h),ll(8,v);break;case 23:break;case 22:var ee=v.stateNode;v.memoizedState!==null?ee._visibility&2?xa(d,v,T,N,h):cl(d,v):(ee._visibility|=2,xa(d,v,T,N,h)),h&&F&2048&&ud(v.alternate,v);break;case 24:xa(d,v,T,N,h),h&&F&2048&&cd(v.alternate,v);break;default:xa(d,v,T,N,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&ud(l.alternate,l);break;case 24:cl(a,l),h&2048&&cd(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Na(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Gy(t),t=t.sibling}function Gy(t){switch(t.tag){case 26:Na(t),t.flags&hl&&t.memoizedState!==null&&Gb(Hn,t.memoizedState,t.memoizedProps);break;case 5:Na(t);break;case 3:case 4:var i=Hn;Hn=Sc(t.stateNode.containerInfo),Na(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Na(t),hl=i):Na(t));break;default:Na(t)}}function Ky(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Qy(l,t)}Ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&vr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,cc(t)):fl(t);break;default:fl(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,Qy(l,t)}Ky(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vr(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}t=t.sibling}}function Qy(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(jy(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var ob={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},lb=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,ke=null,Be=0,Ze=0,yn=null,Sr=!1,Da=!1,hd=!1,Fi=0,mt=0,br=0,Ls=0,fd=0,Mn=0,Oa=0,dl=null,on=null,dd=!1,md=0,hc=1/0,fc=null,Ar=null,Ht=0,wr=null,ka=null,Ma=0,pd=0,gd=null,Xy=null,ml=0,yd=null;function _n(){if(($e&2)!==0&&Be!==0)return Be&-Be;if(W.T!==null){var t=Ta;return t!==0?t:Ad()}return ar()}function $y(){Mn===0&&(Mn=(Be&536870912)===0||Fe?bo():536870912);var t=kn.current;return t!==null&&(t.flags|=32),Mn}function vn(t,i,a){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Rr(t,Be,Mn,!1)),Si(t,a),(($e&2)===0||t!==rt)&&(t===rt&&(($e&2)===0&&(Ls|=a),mt===4&&Rr(t,Be,Mn,!1)),hi(t))}function Zy(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||us(t,i),h=l?hb(t,i):Ed(t,i,!0),d=l;do{if(h===0){Da&&!l&&Rr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ub(a)){h=Ed(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=dl;var N=T.current.memoizedState.isDehydrated;if(N&&(Va(T,v).flags|=256),v=Ed(T,v,!1),v!==2){if(hd&&!N){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Rr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,Mn,!Sr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=md+300-bn(),10<h)){if(Rr(l,i,Mn,!Sr),Ws(l,0,!0)!==0)break e;l.timeoutHandle=R_(Wy.bind(null,l,a,on,fc,dd,i,Mn,Ls,Oa,Sr,d,2,-0,0),h);break e}Wy(l,a,on,fc,dd,i,Mn,Ls,Oa,Sr,d,0,-0,0)}}break}while(!0);hi(t)}function Wy(t,i,a,l,h,d,v,T,N,F,ee,ie,K,Y){if(t.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:Fb},Gy(i),ie=Kb(),ie!==null)){t.cancelPendingCommit=ie(s_.bind(null,t,i,d,a,l,h,v,T,N,ee,1,K,Y)),Rr(t,d,v,!F);return}s_(t,i,d,a,l,h,v,T,N)}function ub(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(t,i,a,l){i&=~fd,i&=~Ls,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Yt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&$n(t,a,i)}function dc(){return($e&6)===0?(pl(0),!1):!0}function _d(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,Pi=Ds=null,Vf(t),Ia=null,sl=0,t=ke;for(;t!==null;)Dy(t.alternate,t),t=t.return;ke=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ib(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_d(),rt=t,ke=a=ki(t.current,null),Be=i,Ze=0,yn=null,Sr=!1,Da=us(t,i),hd=!1,Oa=Mn=fd=Ls=br=mt=0,on=dl=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Yt(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Vu(),a}function Jy(t,i){xe=null,W.H=ec,i===$o||i===Fu?(i=gg(),Ze=3):i===dg?(i=gg(),Ze=4):Ze=i===yy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,ke===null&&(mt=1,sc(t,xn(i,t.current)))}function e_(){var t=W.H;return W.H=ec,t===null?ec:t}function t_(){var t=W.A;return W.A=ob,t}function vd(){mt=4,Sr||(Be&4194048)!==Be&&kn.current!==null||(Da=!0),(br&134217727)===0&&(Ls&134217727)===0||rt===null||Rr(rt,Be,Mn,!1)}function Ed(t,i,a){var l=$e;$e|=2;var h=e_(),d=t_();(rt!==t||Be!==i)&&(fc=null,Va(t,i)),i=!1;var v=mt;e:do try{if(Ze!==0&&ke!==null){var T=ke,N=yn;switch(Ze){case 8:_d(),v=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var F=Ze;if(Ze=0,yn=null,Pa(t,T,N,F),a&&Da){v=0;break e}break;default:F=Ze,Ze=0,yn=null,Pa(t,T,N,F)}}cb(),v=mt;break}catch(ee){Jy(t,ee)}while(!0);return i&&t.shellSuspendCounter++,Pi=Ds=null,$e=l,W.H=h,W.A=d,ke===null&&(rt=null,Be=0,Vu()),v}function cb(){for(;ke!==null;)n_(ke)}function hb(t,i){var a=$e;$e|=2;var l=e_(),h=t_();rt!==t||Be!==i?(fc=null,hc=bn()+500,Va(t,i)):Da=us(t,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var d=yn;t:switch(Ze){case 1:Ze=0,yn=null,Pa(t,i,d,1);break;case 2:case 9:if(mg(d)){Ze=0,yn=null,i_(i);break}i=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),hi(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:mg(d)?(Ze=0,yn=null,i_(i)):(Ze=0,yn=null,Pa(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(!v||U_(v)){Ze=0,yn=null;var N=T.sibling;if(N!==null)ke=N;else{var F=T.return;F!==null?(ke=F,mc(F)):ke=null}break t}}Ze=0,yn=null,Pa(t,i,d,5);break;case 6:Ze=0,yn=null,Pa(t,i,d,6);break;case 8:_d(),mt=6;break e;default:throw Error(s(462))}}fb();break}catch(ee){Jy(t,ee)}while(!0);return Pi=Ds=null,W.H=l,W.A=h,$e=a,ke!==null?0:(rt=null,Be=0,Vu(),mt)}function fb(){for(;ke!==null&&!vo();)n_(ke)}function n_(t){var i=xy(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?mc(t):ke=i}function i_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Vf(i);default:Dy(a,i),i=ke=rg(i,Fi),i=xy(a,i,Fi)}t.memoizedProps=t.pendingProps,i===null?mc(t):ke=i}function Pa(t,i,a,l){Pi=Ds=null,Vf(i),Ia=null,sl=0;var h=i.return;try{if(tb(t,h,i,a,Be)){mt=1,sc(t,xn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;mt=1,sc(t,xn(a,t.current)),ke=null;return}i.flags&32768?(Fe||l===1?t=!0:Da||(Be&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),r_(i,t)):mc(i)}function mc(t){var i=t;do{if((i.flags&32768)!==0){r_(i,Sr);return}t=i.return;var a=ib(i.alternate,i,Fi);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);mt===0&&(mt=5)}function r_(t,i){do{var a=rb(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);mt=6,ke=null}function s_(t,i,a,l,h,d,v,T,N){t.cancelPendingCommit=null;do pc();while(Ht!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,wo(t,a,d,v,T,N),t===rt&&(ke=rt=null,Be=0),ka=i,wr=t,Ma=a,pd=d,gd=h,Xy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gb(ss,function(){return c_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=he.p,he.p=2,v=$e,$e|=4;try{sb(t,i,a)}finally{$e=v,he.p=h,W.T=l}}Ht=1,a_(),o_(),l_()}}function a_(){if(Ht===1){Ht=0;var t=wr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=he.p;he.p=2;var h=$e;$e|=4;try{Hy(i,t);var d=Od,v=Qp(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Yp(T.ownerDocument.documentElement,T)){if(N!==null&&sf(T)){var F=N.start,ee=N.end;if(ee===void 0&&(ee=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(ee,T.value.length);else{var ie=T.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var Y=K.getSelection(),we=T.textContent.length,Te=Math.min(N.start,we),tt=N.end===void 0?Te:Math.min(N.end,we);!Y.extend&&Te>tt&&(v=tt,tt=Te,Te=v);var z=Kp(T,Te),U=Kp(T,tt);if(z&&U&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==U.node||Y.focusOffset!==U.offset)){var q=ie.createRange();q.setStart(z.node,z.offset),Y.removeAllRanges(),Te>tt?(Y.addRange(q),Y.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),Y.addRange(q))}}}}for(ie=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ie.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ie.length;T++){var ne=ie[T];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Ic=!!Dd,Od=Dd=null}finally{$e=h,he.p=l,W.T=a}}t.current=i,Ht=2}}function o_(){if(Ht===2){Ht=0;var t=wr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=he.p;he.p=2;var h=$e;$e|=4;try{Uy(t,i.alternate,i)}finally{$e=h,he.p=l,W.T=a}}Ht=3}}function l_(){if(Ht===4||Ht===3){Ht=0,cu();var t=wr,i=ka,a=Ma,l=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,ka=wr=null,u_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),Js(a),i=i.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=he.p,he.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{W.T=i,he.p=h}}(Ma&3)!==0&&pc(),hi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===yd?ml++:(ml=0,yd=t):ml=0,pl(0)}}function u_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Qo(i)))}function pc(t){return a_(),o_(),l_(),c_()}function c_(){if(Ht!==5)return!1;var t=wr,i=pd;pd=0;var a=Js(Ma),l=W.T,h=he.p;try{he.p=32>a?32:a,W.T=null,a=gd,gd=null;var d=wr,v=Ma;if(Ht=0,ka=wr=null,Ma=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,Yy(d.current),Fy(d,d.current,v,a),$e=T,pl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{he.p=h,W.T=l,u_(t,i)}}function h_(t,i,a){i=xn(a,i),i=Xf(t.stateNode,i,2),t=pr(t,i,2),t!==null&&(Si(t,2),hi(t))}function nt(t,i,a){if(t.tag===3)h_(t,t,a);else for(;i!==null;){if(i.tag===3){h_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=xn(a,t),a=py(2),l=pr(i,a,2),l!==null&&(gy(a,l,i,t),Si(l,2),hi(l));break}}i=i.return}}function Td(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(hd=!0,h.add(a),t=db.bind(null,t,i,a),i.then(t,t))}function db(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Be&a)===a&&(mt===4||mt===3&&(Be&62914560)===Be&&300>bn()-md?($e&2)===0&&Va(t,0):fd|=a,Oa===Be&&(Oa=0)),hi(t)}function f_(t,i){i===0&&(i=Ao()),t=ya(t,i),t!==null&&(Si(t,i),hi(t))}function mb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),f_(t,a)}function pb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),f_(t,a)}function gb(t,i){return is(t,i)}var gc=null,La=null,Sd=!1,yc=!1,bd=!1,Us=0;function hi(t){t!==La&&t.next===null&&(La===null?gc=La=t:La=La.next=t),yc=!0,Sd||(Sd=!0,_b())}function pl(t,i){if(!bd&&yc){bd=!0;do for(var a=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,g_(l,d))}else d=Be,d=Ws(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,g_(l,d));l=l.next}while(a);bd=!1}}function yb(){d_()}function d_(){yc=Sd=!1;var t=0;Us!==0&&(Rb()&&(t=Us),Us=0);for(var i=bn(),a=null,l=gc;l!==null;){var h=l.next,d=m_(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(yc=!0)),l=h}pl(t)}function m_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Yt(d),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=So(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=rt,a=Be,a=Ws(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&rs(l),Js(a)){case 2:case 8:a=$s;break;case 32:a=ss;break;case 268435456:a=Zs;break;default:a=ss}return l=p_.bind(null,t),a=is(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&rs(l),t.callbackPriority=2,t.callbackNode=null,2}function p_(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pc()&&t.callbackNode!==a)return null;var l=Be;return l=Ws(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zy(t,l,i),m_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?p_.bind(null,t):null)}function g_(t,i){if(pc())return null;Zy(t,i,!0)}function _b(){Cb(function(){($e&6)!==0?is(Eo,yb):d_()})}function Ad(){return Us===0&&(Us=bo()),Us}function y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function __(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=y_((h[vt]||null).action),v=l.submitter;v&&(i=(i=v[vt]||null)?y_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new aa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var N=v?__(h,v):new FormData(h);Ff(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?__(h,v):new FormData(h),Ff(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var wd=0;wd<uf.length;wd++){var Rd=uf[wd],Eb=Rd.toLowerCase(),Tb=Rd[0].toUpperCase()+Rd.slice(1);Bn(Eb,"on"+Tb)}Bn(Zp,"onAnimationEnd"),Bn(Wp,"onAnimationIteration"),Bn(Jp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(US,"onTransitionRun"),Bn(jS,"onTransitionStart"),Bn(zS,"onTransitionCancel"),Bn(eg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function v_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,F=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(ee){rc(ee)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,F=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(ee){rc(ee)}h.currentTarget=null,d=N}}}}function Me(t,i){var a=i[Io];a===void 0&&(a=i[Io]=new Set);var l=t+"__bubble";a.has(l)||(E_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),E_(a,t,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[_c]){t[_c]=!0,Co.forEach(function(a){a!=="selectionchange"&&(Sb.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_c]||(i[_c]=!0,Id("selectionchange",!1,i))}}function E_(t,i,a,l){switch(F_(i)){case 2:var h=Xb;break;case 8:h=$b;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!In||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=bi(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Eu(function(){var F=d,ee=Rn(a),ie=[];e:{var K=tg.get(t);if(K!==void 0){var Y=aa,we=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":Y=fa;break;case"focusin":we="focus",Y=ua;break;case"focusout":we="blur",Y=ua;break;case"beforeblur":case"afterblur":Y=ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Cu;break;case Zp:case Wp:case Jp:Y=ca;break;case eg:Y=Nu;break;case"scroll":case"scrollend":Y=Tu;break;case"wheel":Y=da;break;case"copy":case"cut":case"paste":Y=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=zo;break;case"toggle":case"beforetoggle":Y=Ou}var Te=(i&4)!==0,tt=!Te&&(t==="scroll"||t==="scrollend"),z=Te?K!==null?K+"Capture":null:K;Te=[];for(var U=F,q;U!==null;){var ne=U;if(q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||q===null||z===null||(ne=ys(U,z),ne!=null&&Te.push(yl(U,ne,q))),tt)break;U=U.return}0<Te.length&&(K=new Y(K,we,null,a,ee),ie.push({event:K,listeners:Te}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",K&&a!==Ii&&(we=a.relatedTarget||a.fromElement)&&(bi(we)||we[An]))break e;if((Y||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(we=a.relatedTarget||a.toElement,Y=F,we=we?bi(we):null,we!==null&&(tt=u(we),Te=we.tag,we!==tt||Te!==5&&Te!==27&&Te!==6)&&(we=null)):(Y=null,we=F),Y!==we)){if(Te=Cn,ne="onMouseLeave",z="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Te=zo,ne="onPointerLeave",z="onPointerEnter",U="pointer"),tt=Y==null?K:Wn(Y),q=we==null?K:Wn(we),K=new Te(ne,U+"leave",Y,a,ee),K.target=tt,K.relatedTarget=q,ne=null,bi(ee)===F&&(Te=new Te(z,U+"enter",we,a,ee),Te.target=q,Te.relatedTarget=tt,ne=Te),tt=ne,Y&&we)t:{for(Te=Y,z=we,U=0,q=Te;q;q=Ua(q))U++;for(q=0,ne=z;ne;ne=Ua(ne))q++;for(;0<U-q;)Te=Ua(Te),U--;for(;0<q-U;)z=Ua(z),q--;for(;U--;){if(Te===z||z!==null&&Te===z.alternate)break t;Te=Ua(Te),z=Ua(z)}Te=null}else Te=null;Y!==null&&T_(ie,K,Y,Te,!1),we!==null&&tt!==null&&T_(ie,tt,we,Te,!0)}}e:{if(K=F?Wn(F):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var ye=zp;else if(Rt(K))if(Bp)ye=VS;else{ye=kS;var De=OS}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&ko(F.elementType)&&(ye=zp):ye=MS;if(ye&&(ye=ye(t,F))){Oi(ie,ye,a,ee);break e}De&&De(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&cr(K,"number",K.value)}switch(De=F?Wn(F):window,t){case"focusin":(Rt(De)||De.contentEditable==="true")&&(ma=De,af=F,qo=null);break;case"focusout":qo=af=ma=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Xp(ie,a,ee);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Xp(ie,a,ee)}var _e;if(si)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else je?Q(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(je||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&je&&(_e=Vo()):(ti=ee,hr="value"in ti?ti.value:ti.textContent,je=!0)),De=vc(F,Se),0<De.length&&(Se=new Uo(Se,t,null,a,ee),ie.push({event:Se,listeners:De}),_e?Se.data=_e:(_e=ce(a),_e!==null&&(Se.data=_e)))),(_e=y?wt(t,a):ze(t,a))&&(Se=vc(F,"onBeforeInput"),0<Se.length&&(De=new Uo("onBeforeInput","beforeinput",null,a,ee),ie.push({event:De,listeners:Se}),De.data=_e)),vb(ie,t,F,a,ee)}v_(ie,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(t,a),h!=null&&l.unshift(yl(t,h,d)),h=ys(t,i),h!=null&&l.push(yl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,F=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||F===null||(N=F,h?(F=ys(a,d),F!=null&&v.unshift(yl(a,F,N))):h||(F=ys(a,d),F!=null&&v.push(yl(a,F,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var bb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function S_(t){return(typeof t=="string"?t:""+t).replace(bb,`
`).replace(Ab,"")}function b_(t,i){return i=S_(i),S_(t)===i}function Ec(){}function et(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,a,l);break;case"style":Oo(t,l,d);break;case"data":if(i!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ur(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,ur(t,a,l))}}function Nd(t,i,a,l,h,d){switch(a){case"style":Oo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ur(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}h&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":v=ee;break;case"checked":N=ee;break;case"defaultChecked":F=ee;break;case"value":d=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:et(t,i,l,ee,a,null)}}ms(t,d,T,N,F,v,h,!1),ra(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:et(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ri(t,!!l,i,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(t,i,v,T,a,null)}ps(t,l,h,d),ra(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,N,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Me(gl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,F,l,a,null)}return;default:if(ko(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Nd(t,i,ee,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,i,T,l,a,null))}function wb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,F=null,ee=null;for(Y in a){var ie=a[Y];if(a.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ie;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,ie)}}for(var K in l){var Y=l[K];if(ie=a[K],l.hasOwnProperty(K)&&(Y!=null||ie!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":ee=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ie&&et(t,i,K,Y,l,ie)}}fn(t,v,T,N,F,ee,d,h);return;case"select":Y=v=T=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||et(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&et(t,i,h,d,l,N)}i=T,a=v,l=Y,K!=null?Ri(t,!!a,K,!1):!!l!=!!a&&(i!=null?Ri(t,!!a,i,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&et(t,i,v,h,l,d)}We(t,K,Y);return;case"option":for(var we in a)if(K=a[we],a.hasOwnProperty(we)&&K!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:et(t,i,we,null,l,K)}for(N in l)if(K=l[N],Y=a[N],l.hasOwnProperty(N)&&K!==Y&&(K!=null||Y!=null))switch(N){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(t,i,N,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te)&&et(t,i,Te,null,l,K);for(F in l)if(K=l[F],Y=a[F],l.hasOwnProperty(F)&&K!==Y&&(K!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:et(t,i,F,K,l,Y)}return;default:if(ko(i)){for(var tt in a)K=a[tt],a.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&Nd(t,i,tt,void 0,l,K);for(ee in l)K=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||K===Y||K===void 0&&Y===void 0||Nd(t,i,ee,K,l,Y);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&et(t,i,z,null,l,K);for(ie in l)K=l[ie],Y=a[ie],!l.hasOwnProperty(ie)||K===Y||K==null&&Y==null||et(t,i,ie,K,l,Y)}var Dd=null,Od=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function A_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function Rb(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var R_=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(xb)}:R_;function xb(t){setTimeout(function(){throw t})}function Ir(t){return t==="head"}function C_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&_l(v.documentElement),a&2&&_l(v.body),a&4)for(a=v.head,_l(a),v=a.firstChild;v;){var T=v.nextSibling,N=v.nodeName;v[cs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function Vd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Db(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ob(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ld=null;function x_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function N_(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);lr(t)}var Vn=new Map,D_=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=he.d;he.d={f:kb,r:Mb,D:Vb,C:Pb,L:Lb,m:Ub,X:zb,S:jb,M:Bb};function kb(){var t=Gi.f(),i=dc();return t||i}function Mb(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?Zg(i):Gi.r(t)}var ja=typeof document>"u"?null:document;function O_(t,i,a){var l=ja;if(l&&typeof i=="string"&&i){var h=Et(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),D_.has(h)||(D_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function Vb(t){Gi.D(t),O_("dns-prefetch",t,null)}function Pb(t,i){Gi.C(t,i),O_("preconnect",t,i)}function Lb(t,i,a){Gi.L(t,i,a);var l=ja;if(l&&t&&i){var h='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Et(a.imageSizes)+'"]')):h+='[href="'+Et(t)+'"]';var d=h;switch(i){case"style":d=za(t);break;case"script":d=Ba(t)}Vn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),qt(i,"link",t),pt(i),l.head.appendChild(i)))}}function Ub(t,i){Gi.m(t,i);var a=ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),qt(l,"link",t),pt(l),a.head.appendChild(l)}}}function jb(t,i,a){Gi.S(t,i,a);var l=ja;if(l&&t){var h=en(l).hoistableStyles,d=za(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Ud(t,a);var N=v=l.createElement("link");pt(N),qt(N,"link",t),N._p=new Promise(function(F,ee){N.onload=F,N.onerror=ee}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function zb(t,i){Gi.X(t,i);var a=ja;if(a&&t){var l=en(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=E({src:t,async:!0},i),(i=Vn.get(h))&&jd(t,i),d=a.createElement("script"),pt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Bb(t,i){Gi.M(t,i);var a=ja;if(a&&t){var l=en(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(El(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&jd(t,i),d=a.createElement("script"),pt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function k_(t,i,a,l){var h=(h=pe.current)?Sc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=za(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||Hb(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function za(t){return'href="'+Et(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function M_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Hb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),pt(i),t.head.appendChild(i))}function Ba(t){return'[src="'+Et(t)+'"]'}function El(t){return"script[async]"+t}function V_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),qt(l,"style",h),bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=za(a.href);var d=t.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,pt(d),d;l=M_(a),(h=Vn.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),qt(d,"link",l),i.state.loading|=4,bc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(El(d)))?(i.instance=h,pt(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,t));return i.instance}function bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ac=null;function P_(t,i,a){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(a,l)}else h=Ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function L_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function qb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function U_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Tl=null;function Fb(){}function Gb(t,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),d=t.querySelector(vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,pt(d);return}d=t.ownerDocument||t,a=M_(a),(h=Vn.get(h))&&Ud(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=wc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Kb(){if(Tl===null)throw Error(s(475));var t=Tl;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(Yb,t),Rc=null,wc.call(t))}function Yb(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var l=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Sl={$$typeof:J,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Qb(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function j_(t,i,a,l,h,d,v,T,N,F,ee,ie){return t=new Qb(t,i,a,v,T,N,F,ie),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function z_(t){return t?(t=_a,t):_a}function B_(t,i,a,l,h,d){h=z_(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(t,l,i),a!==null&&(vn(a,t,i),Wo(a,t,i))}function H_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){H_(t,i),(t=t.alternate)&&H_(t,i)}function q_(t){if(t.tag===13){var i=ya(t,67108864);i!==null&&vn(i,t,67108864),Bd(t,67108864)}}var Ic=!0;function Xb(t,i,a,l){var h=W.T;W.T=null;var d=he.p;try{he.p=2,Hd(t,i,a,l)}finally{he.p=d,W.T=h}}function $b(t,i,a,l){var h=W.T;W.T=null;var d=he.p;try{he.p=8,Hd(t,i,a,l)}finally{he.p=d,W.T=h}}function Hd(t,i,a,l){if(Ic){var h=qd(l);if(h===null)xd(t,i,l,Cc,a),G_(t,l);else if(Wb(h,t,i,a,l))l.stopPropagation();else if(G_(t,l),i&4&&-1<Zb.indexOf(t)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-Yt(v);T.entanglements[1]|=N,v&=~N}hi(d),($e&6)===0&&(hc=bn()+500,pl(0))}}break;case 13:T=ya(d,2),T!==null&&vn(T,d,2),dc(),Bd(d,2)}if(d=qd(l),d===null&&xd(t,i,l,Cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xd(t,i,l,null,a)}}function qd(t){return t=Rn(t),Fd(t)}var Cc=null;function Fd(t){if(Cc=null,t=bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Cc=t,null}function F_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kh()){case Eo:return 2;case $s:return 8;case ss:case Yh:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var Gd=!1,Cr=null,xr=null,Nr=null,bl=new Map,Al=new Map,Dr=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G_(t,i){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function wl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&q_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Wb(t,i,a,l,h){switch(i){case"focusin":return Cr=wl(Cr,t,i,a,l,h),!0;case"dragenter":return xr=wl(xr,t,i,a,l,h),!0;case"mouseover":return Nr=wl(Nr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,wl(bl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,wl(Al.get(d)||null,t,i,a,l,h)),!0}return!1}function K_(t){var i=bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,du(t.priority,function(){if(a.tag===13){var l=_n();l=sr(l);var h=ya(a,l);h!==null&&vn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return i=Zn(a),i!==null&&q_(i),t.blockedOn=a,!1;i.shift()}return!0}function Y_(t,i,a){xc(t)&&a.delete(i)}function Jb(){Gd=!1,Cr!==null&&xc(Cr)&&(Cr=null),xr!==null&&xc(xr)&&(xr=null),Nr!==null&&xc(Nr)&&(Nr=null),bl.forEach(Y_),Al.forEach(Y_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jb)))}var Dc=null;function Q_(t){Dc!==t&&(Dc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(t.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(t){function i(N){return Nc(N,t)}Cr!==null&&Nc(Cr,t),xr!==null&&Nc(xr,t),Nr!==null&&Nc(Nr,t),bl.forEach(i),Al.forEach(i);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)K_(a),a.blockedOn===null&&Dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[vt]||null;if(typeof d=="function")v||Q_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[vt]||null)T=v.formAction;else if(Fd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Q_(a)}}}function Kd(t){this._internalRoot=t}Oc.prototype.render=Kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();B_(a,l,t,i,null,null)},Oc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;B_(t.current,2,null,t,null,null),dc(),i[An]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ar();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Dr.length&&i!==0&&i<Dr[a].priority;a++);Dr.splice(a,0,t),a===0&&K_(t)}};var X_=e.version;if(X_!=="19.1.0")throw Error(s(527,X_,"19.1.0"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{ft=kc.inject(eA),Xe=kc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=hy,d=fy,v=dy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=j_(t,1,!1,null,null,a,l,h,d,v,T,null),t[An]=i.current,Cd(t),new Kd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=hy,v=fy,T=dy,N=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=j_(t,1,!0,i,a??null,l,h,d,v,T,N,F),i.context=z_(null),a=i.current,l=_n(),l=sr(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,Si(i,a),hi(i),t[An]=i.current,Cd(t),new Oc(i)},Cl.version="19.1.0",Cl}var sv;function cA(){if(sv)return Xd.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=uA(),Xd.exports}var hA=cA(),xl={},av;function fA(){if(av)return xl;av=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=f,xl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,P){const O=new u,x=S.length;if(x<2)return O;const M=(P==null?void 0:P.decode)||E;let B=0;do{const X=S.indexOf("=",B);if(X===-1)break;const J=S.indexOf(";",B),ae=J===-1?x:J;if(X>ae){B=S.lastIndexOf(";",X-1)+1;continue}const le=m(S,B,X),de=p(S,X,le),k=S.slice(le,de);if(O[k]===void 0){let R=m(S,X+1,ae),w=p(S,ae,R);const L=M(S.slice(R,w));O[k]=L}B=ae+1}while(B<x);return O}function m(S,P,O){do{const x=S.charCodeAt(P);if(x!==32&&x!==9)return P}while(++P<O);return O}function p(S,P,O){for(;P>O;){const x=S.charCodeAt(--P);if(x!==32&&x!==9)return P+1}return O}function g(S,P,O){const x=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const M=x(P);if(!e.test(M))throw new TypeError(`argument val is invalid: ${P}`);let B=S+"="+M;if(!O)return B;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);B+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);B+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);B+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);B+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(B+="; HttpOnly"),O.secure&&(B+="; Secure"),O.partitioned&&(B+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return B}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return xl}fA();var ov="popstate";function dA(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Ks(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),dm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Hl(u))}function s(o,u){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return pA(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mA(){return Math.random().toString(36).substring(2,10)}function lv(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:n,key:e&&e.key||s||mA()}}function Hl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ks(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function pA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let M=E(),B=M==null?null:M-g;g=M,p&&p({action:m,location:x.location,delta:B})}function S(M,B){m="PUSH";let X=dm(x.location,M,B);n&&n(X,M),g=E()+1;let J=lv(X,g),ae=x.createHref(X);try{f.pushState(J,"",ae)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ae)}u&&p&&p({action:m,location:x.location,delta:1})}function P(M,B){m="REPLACE";let X=dm(x.location,M,B);n&&n(X,M),g=E();let J=lv(X,g),ae=x.createHref(X);f.replaceState(J,"",ae),u&&p&&p({action:m,location:x.location,delta:0})}function O(M){return gA(M)}let x={get action(){return m},get location(){return r(o,f)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ov,A),p=M,()=>{o.removeEventListener(ov,A),p=null}},createHref(M){return e(o,M)},createURL:O,encodeLocation(M){let B=O(M);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:P,go(M){return f.go(M)}};return x}function gA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Hl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function B0(r,e,n="/"){return yA(r,e,n,!1)}function yA(r,e,n,s){let o=typeof e=="string"?Ks(e):e,u=Wi(o.pathname||"/",n);if(u==null)return null;let f=H0(r);_A(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=xA(u);m=IA(f[p],g,s)}return m}function H0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),H0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:wA(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of q0(u.path))o(u,f,p)}),e}function q0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=q0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function _A(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:RA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vA=/^:[\w-]+$/,EA=3,TA=2,SA=1,bA=10,AA=-2,uv=r=>r==="*";function wA(r,e){let n=r.split("/"),s=n.length;return n.some(uv)&&(s+=AA),e&&(s+=TA),n.filter(o=>!uv(o)).reduce((o,u)=>o+(vA.test(u)?EA:u===""?SA:bA),s)}function RA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function IA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Zi([u,A.pathname]),pathnameBase:kA(Zi([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Zi([u,A.pathnameBase]))}return f}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=CA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},S)=>{if(E==="*"){let O=m[S]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const P=m[S];return A&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function CA(r,e=!1,n=!0){Pn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function NA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ks(r):r;return{pathname:n?n.startsWith("/")?n:DA(n,e):e,search:MA(s),hash:VA(o)}}function DA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bm(r){let e=OA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Hm(r,e,n,s=!1){let o;typeof r=="string"?o=Ks(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=NA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Zi=r=>r.join("/").replace(/\/\/+/g,"/"),kA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function PA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var F0=["POST","PUT","PATCH","DELETE"];new Set(F0);var LA=["GET",...F0];new Set(LA);var ao=G.createContext(null);ao.displayName="DataRouter";var Th=G.createContext(null);Th.displayName="DataRouterState";var G0=G.createContext({isTransitioning:!1});G0.displayName="ViewTransition";var UA=G.createContext(new Map);UA.displayName="Fetchers";var jA=G.createContext(null);jA.displayName="Await";var Qn=G.createContext(null);Qn.displayName="Navigation";var Wl=G.createContext(null);Wl.displayName="Location";var Ln=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var qm=G.createContext(null);qm.displayName="RouteError";function zA(r,{relative:e}={}){ut(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Qn),{hash:o,pathname:u,search:f}=Jl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function oo(){return G.useContext(Wl)!=null}function Xn(){return ut(oo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Wl).location}var K0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(r){G.useContext(Qn).static||G.useLayoutEffect(r)}function lo(){let{isDataRoute:r}=G.useContext(Ln);return r?ew():BA()}function BA(){ut(oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(ao),{basename:e,navigator:n}=G.useContext(Qn),{matches:s}=G.useContext(Ln),{pathname:o}=Xn(),u=JSON.stringify(Bm(s)),f=G.useRef(!1);return Y0(()=>{f.current=!0}),G.useCallback((p,g={})=>{if(Pn(f.current,K0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Hm(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var Q0=G.createContext(null);function X0(){return G.useContext(Q0)}function HA(r){let e=G.useContext(Ln).outlet;return e&&G.createElement(Q0.Provider,{value:r},e)}function $0(){let{matches:r}=G.useContext(Ln),e=r[r.length-1];return e?e.params:{}}function Jl(r,{relative:e}={}){let{matches:n}=G.useContext(Ln),{pathname:s}=Xn(),o=JSON.stringify(Bm(n));return G.useMemo(()=>Hm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function qA(r,e){return Z0(r,e)}function Z0(r,e,n,s){var B;ut(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(Qn),{matches:u}=G.useContext(Ln),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";W0(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=Xn(),S;if(e){let X=typeof e=="string"?Ks(e):e;ut(g==="/"||((B=X.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=A;let P=S.pathname||"/",O=P;if(g!=="/"){let X=g.replace(/^\//,"").split("/");O="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let x=B0(r,{pathname:O});Pn(E||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Pn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=QA(x&&x.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Zi([g,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?g:Zi([g,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return e&&M?G.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function FA(){let r=JA(),e=PA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var GA=G.createElement(FA,null),KA=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Ln.Provider,{value:this.props.routeContext},G.createElement(qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YA({routeContext:r,match:e,children:n}){let s=G.useContext(ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ln.Provider,{value:r},n)}function QA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,S=!1,P=null,O=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||GA,f&&(m<0&&E===0?(W0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===E&&(S=!0,O=g.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,E+1)),M=()=>{let B;return A?B=P:S?B=O:g.route.Component?B=G.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,G.createElement(YA,{match:g,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:B})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?G.createElement(KA,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:M(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):M()},null)}function Fm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(r){let e=G.useContext(ao);return ut(e,Fm(r)),e}function $A(r){let e=G.useContext(Th);return ut(e,Fm(r)),e}function ZA(r){let e=G.useContext(Ln);return ut(e,Fm(r)),e}function Gm(r){let e=ZA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function WA(){return Gm("useRouteId")}function JA(){var s;let r=G.useContext(qm),e=$A("useRouteError"),n=Gm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function ew(){let{router:r}=XA("useNavigate"),e=Gm("useNavigate"),n=G.useRef(!1);return Y0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Pn(n.current,K0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var cv={};function W0(r,e,n){!e&&!cv[r]&&(cv[r]=!0,Pn(!1,n))}G.memo(tw);function tw({routes:r,future:e,state:n}){return Z0(r,void 0,n,e)}function nw({to:r,replace:e,state:n,relative:s}){ut(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(Qn);Pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Ln),{pathname:f}=Xn(),m=lo(),p=Hm(r,Bm(u),f,s==="path"),g=JSON.stringify(p);return G.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function iw(r){return HA(r.context)}function fi(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ks(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:S="default"}=n,P=G.useMemo(()=>{let O=Wi(p,f);return O==null?null:{location:{pathname:O,search:g,hash:E,state:A,key:S},navigationType:s}},[f,p,g,E,A,S,s]);return Pn(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Qn.Provider,{value:m},G.createElement(Wl.Provider,{children:e,value:P}))}function sw({children:r,location:e}){return qA(mm(r),e)}function mm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,mm(s.props.children,u));return}ut(s.type===fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mm(s.props.children,u)),n.push(f)}),n}var Hc="get",qc="application/x-www-form-urlencoded";function Sh(r){return r!=null&&typeof r.tagName=="string"}function aw(r){return Sh(r)&&r.tagName.toLowerCase()==="button"}function ow(r){return Sh(r)&&r.tagName.toLowerCase()==="form"}function lw(r){return Sh(r)&&r.tagName.toLowerCase()==="input"}function uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cw(r,e){return r.button===0&&(!e||e==="_self")&&!uw(r)}var Mc=null;function hw(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(r){return r!=null&&!fw.has(r)?(Pn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):r}function dw(r,e){let n,s,o,u,f;if(ow(r)){let m=r.getAttribute("action");s=m?Wi(m,e):null,n=r.getAttribute("method")||Hc,o=em(r.getAttribute("enctype"))||qc,u=new FormData(r)}else if(aw(r)||lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=em(r.getAttribute("formenctype"))||em(m.getAttribute("enctype"))||qc,u=new FormData(m,r),!hw()){let{name:g,type:E,value:A}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(Sh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,s=null,o=qc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Km(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function mw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mw(u,n);return f.links?f.links():[]}return[]}));return Ew(s.flat(1).filter(pw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function hv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yw(r,e,{includeHydrateFallback:n}={}){return _w(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _w(r){return[...new Set(r)]}function vw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Ew(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(vw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tw=new Set([100,101,204,205]);function Sw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function J0(){let r=G.useContext(ao);return Km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bw(){let r=G.useContext(Th);return Km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ym=G.createContext(void 0);Ym.displayName="FrameworkContext";function eE(){let r=G.useContext(Ym);return Km(r,"You must render this element inside a <HydratedRouter> element"),r}function Aw(r,e){let n=G.useContext(Ym),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let x=B=>{B.forEach(X=>{f(X.isIntersecting)})},M=new IntersectionObserver(x,{threshold:.5});return S.current&&M.observe(S.current),()=>{M.disconnect()}}},[r]),G.useEffect(()=>{if(s){let x=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(x)}}},[s]);let P=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Nl(m,P),onBlur:Nl(p,O),onMouseEnter:Nl(g,P),onMouseLeave:Nl(E,O),onTouchStart:Nl(A,P)}]:[!1,S,{}]}function Nl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ww({page:r,...e}){let{router:n}=J0(),s=G.useMemo(()=>B0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Iw,{page:r,matches:s,...e}):null}function Rw(r){let{manifest:e,routeModules:n}=eE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return gw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Iw({page:r,matches:e,...n}){let s=Xn(),{manifest:o,routeModules:u}=eE(),{basename:f}=J0(),{loaderData:m,matches:p}=bw(),g=G.useMemo(()=>hv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=G.useMemo(()=>hv(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,x=!1;if(e.forEach(B=>{var J;let X=o.routes[B.route.id];!X||!X.hasLoader||(!g.some(ae=>ae.route.id===B.route.id)&&B.route.id in m&&((J=u[B.route.id])!=null&&J.shouldRevalidate)||X.hasClientLoader?x=!0:O.add(B.route.id))}),O.size===0)return[];let M=Sw(r,f);return x&&O.size>0&&M.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[M.pathname+M.search]},[f,m,s,o,g,e,r,u]),S=G.useMemo(()=>yw(E,o),[E,o]),P=Rw(E);return G.createElement(G.Fragment,null,A.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),P.map(({key:O,link:x})=>G.createElement("link",{key:O,...x})))}function Cw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tE&&(window.__reactRouterVersion="7.6.3")}catch{}function xw({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=dA({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(rw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var nE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...S},P){let{basename:O}=G.useContext(Qn),x=typeof g=="string"&&nE.test(g),M,B=!1;if(typeof g=="string"&&x&&(M=g,tE))try{let w=new URL(window.location.href),L=g.startsWith("//")?new URL(w.protocol+g):new URL(g),V=Wi(L.pathname,O);L.origin===w.origin&&V!=null?g=V+L.search+L.hash:B=!0}catch{Pn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=zA(g,{relative:o}),[J,ae,le]=Aw(s,S),de=kw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function k(w){e&&e(w),w.defaultPrevented||de(w)}let R=G.createElement("a",{...S,...le,href:M||X,onClick:B||u?e:k,ref:Cw(P,ae),target:p,"data-discover":!x&&n==="render"?"true":void 0});return J&&!x?G.createElement(G.Fragment,null,R,G.createElement(ww,{page:X})):R});Ur.displayName="Link";var Nw=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=Jl(f,{relative:g.relative}),S=Xn(),P=G.useContext(Th),{navigator:O,basename:x}=G.useContext(Qn),M=P!=null&&Uw(A)&&m===!0,B=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,X=S.pathname,J=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(X=X.toLowerCase(),J=J?J.toLowerCase():null,B=B.toLowerCase()),J&&x&&(J=Wi(J,x)||J);const ae=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let le=X===B||!o&&X.startsWith(B)&&X.charAt(ae)==="/",de=J!=null&&(J===B||!o&&J.startsWith(B)&&J.charAt(B.length)==="/"),k={isActive:le,isPending:de,isTransitioning:M},R=le?e:void 0,w;typeof s=="function"?w=s(k):w=[s,le?"active":null,de?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(k):u;return G.createElement(Ur,{...g,"aria-current":R,className:w,ref:E,style:L,to:f,viewTransition:m},typeof p=="function"?p(k):p)});Nw.displayName="NavLink";var Dw=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...S},P)=>{let O=Pw(),x=Lw(m,{relative:g}),M=f.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&nE.test(m),X=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let ae=J.nativeEvent.submitter,le=(ae==null?void 0:ae.getAttribute("formmethod"))||f;O(ae||J.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:P,method:M,action:x,onSubmit:s?p:X,...S,"data-discover":!B&&r==="render"?"true":void 0})});Dw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iE(r){let e=G.useContext(ao);return ut(e,Ow(r)),e}function kw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=lo(),p=Xn(),g=Jl(r,{relative:u});return G.useCallback(E=>{if(cw(E,e)){E.preventDefault();let A=n!==void 0?n:Hl(p)===Hl(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var Mw=0,Vw=()=>`__${String(++Mw)}__`;function Pw(){let{router:r}=iE("useSubmit"),{basename:e}=G.useContext(Qn),n=WA();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=dw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Vw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Lw(r,{relative:e}={}){let{basename:n}=G.useContext(Qn),s=G.useContext(Ln);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(r||".",{relative:e})},f=Xn();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),Hl(u)}function Uw(r,e={}){let n=G.useContext(G0);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iE("useViewTransitionState"),o=Jl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,u)!=null}[...Tw];function jw({input:r,setInput:e}){return I.jsx("form",{children:I.jsx("input",{name:"search",type:"text",className:"form-control",value:r,onChange:n=>e(n.target.value),placeholder:"Sök",style:{width:"100%"},autoComplete:"off"})})}const zw=()=>{};var fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Bw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(S=64)),s.push(n[E],n[A],n[S],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Bw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Hw;const S=u<<2|m>>4;if(s.push(S),g!==64){const P=m<<4&240|g>>2;if(s.push(P),A!==64){const O=g<<6&192|A;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Hw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qw=function(r){const e=rE(r);return sE.encodeByteArray(e,!0)},th=function(r){return qw(r).replace(/\./g,"")},aE=function(r){try{return sE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=()=>Fw().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof fv>"u")return;const r=fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Yw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&aE(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return zw()||Gw()||Kw()||Yw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oE=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Qw=r=>{const e=oE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lE=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},uE=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(r){return r.endsWith(".cloudworkstations.dev")}async function cE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}const Pl={};function Zw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function Ww(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let dv=!1;function hE(r,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Pl[r]===e||Pl[r]||dv)return;Pl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Zw().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{dv=!0,f()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=Ww(s),P=n("text"),O=document.getElementById(P)||document.createElement("span"),x=n("learnmore"),M=document.getElementById(x)||document.createElement("a"),B=n("preprendIcon"),X=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),E(M,x);const ae=g();p(X,B),J.append(X,O,M,ae),document.body.appendChild(J)}u?(O.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function e1(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r1(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function s1(){return!e1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a1(){try{return typeof indexedDB=="object"}catch{return!1}}function o1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="FirebaseError";class rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=l1,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?u1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rr(o,m,s)}}function u1(r,e){return r.replace(c1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const c1=/\{\$([^}]+)}/g;function h1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(mv(u)&&mv(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function mv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ol(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function f1(r,e){const n=new d1(r,e);return n.subscribe.bind(n)}class d1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");m1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Xw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y1(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:g1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(r){return r===js?void 0:r}function y1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const v1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},E1=Ve.INFO,T1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},S1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=T1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=S1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const b1=(r,e)=>e.some(n=>r instanceof n);let pv,gv;function A1(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w1(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,pm=new WeakMap,dE=new WeakMap,nm=new WeakMap,Xm=new WeakMap;function R1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&fE.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function I1(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function C1(r){gm=r(gm)}function x1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(im(this),e,...n);return dE.set(s,e.sort?e.sort():[e]),zr(s)}:w1().includes(r)?function(...e){return r.apply(im(this),e),zr(fE.get(this))}:function(...e){return zr(r.apply(im(this),e))}}function N1(r){return typeof r=="function"?x1(r):(r instanceof IDBTransaction&&I1(r),b1(r,A1())?new Proxy(r,gm):r)}function zr(r){if(r instanceof IDBRequest)return R1(r);if(nm.has(r))return nm.get(r);const e=N1(r);return e!==r&&(nm.set(r,e),Xm.set(e,r)),e}const im=r=>Xm.get(r);function D1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const O1=["get","getKey","getAll","getAllKeys","count"],k1=["put","add","delete","clear"],rm=new Map;function yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=k1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||O1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return rm.set(e,u),u}C1(r=>({...r,get:(e,n,s)=>yv(e,n)||r.get(e,n,s),has:(e,n)=>!!yv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function V1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",_v="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Qm("@firebase/app"),P1="@firebase/app-compat",L1="@firebase/analytics-compat",U1="@firebase/analytics",j1="@firebase/app-check-compat",z1="@firebase/app-check",B1="@firebase/auth",H1="@firebase/auth-compat",q1="@firebase/database",F1="@firebase/data-connect",G1="@firebase/database-compat",K1="@firebase/functions",Y1="@firebase/functions-compat",Q1="@firebase/installations",X1="@firebase/installations-compat",$1="@firebase/messaging",Z1="@firebase/messaging-compat",W1="@firebase/performance",J1="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",sR="@firebase/ai",aR="@firebase/firestore-compat",oR="firebase",lR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",uR={[ym]:"fire-core",[P1]:"fire-core-compat",[U1]:"fire-analytics",[L1]:"fire-analytics-compat",[z1]:"fire-app-check",[j1]:"fire-app-check-compat",[B1]:"fire-auth",[H1]:"fire-auth-compat",[q1]:"fire-rtdb",[F1]:"fire-data-connect",[G1]:"fire-rtdb-compat",[K1]:"fire-fn",[Y1]:"fire-fn-compat",[Q1]:"fire-iid",[X1]:"fire-iid-compat",[$1]:"fire-fcm",[Z1]:"fire-fcm-compat",[W1]:"fire-perf",[J1]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[aR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,cR=new Map,vm=new Map;function vv(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Za(r){const e=r.name;if(vm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of nh.values())vv(n,r);for(const n of cR.values())vv(n,r);return!0}function $m(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Fn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new eu("app","Firebase",hR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=lR;function mE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=lE()),!n)throw Br.create("no-options");const u=nh.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const f=new _1(o);for(const p of vm.values())f.addComponent(p);const m=new fR(n,s,f);return nh.set(o,m),m}function pE(r=_m){const e=nh.get(r);if(!e&&r===_m&&lE())return mE();if(!e)throw Br.create("no-app",{appName:r});return e}function Hr(r,e,n){var s;let o=(s=uR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Za(new Hs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebase-heartbeat-database",mR=1,ql="firebase-heartbeat-store";let sm=null;function gE(){return sm||(sm=D1(dR,mR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw Br.create("idb-open",{originalErrorMessage:r.message})})),sm}async function pR(r){try{const n=(await gE()).transaction(ql),s=await n.objectStore(ql).get(yE(r));return await n.done,s}catch(e){if(e instanceof rr)Ji.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function Ev(r,e){try{const s=(await gE()).transaction(ql,"readwrite");await s.objectStore(ql).put(e,yE(r)),await s.done}catch(n){if(n instanceof rr)Ji.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function yE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,yR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Tv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>yR){const f=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tv(),{heartbeatsToSend:s,unsentEntries:o}=vR(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function vR(r,e=gR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a1()?o1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Sv(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function TR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(r){Za(new Hs("platform-logger",e=>new M1(e),"PRIVATE")),Za(new Hs("heartbeat",e=>new _R(e),"PRIVATE")),Hr(ym,_v,r),Hr(ym,_v,"esm2017"),Hr("fire-js","")}SR("");var bR="firebase",AR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(bR,AR,"app");var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,_E;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function w(){}w.prototype=R.prototype,k.D=R.prototype,k.prototype=new w,k.prototype.constructor=k,k.C=function(L,V,j){for(var D=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)D[Ye-2]=arguments[Ye];return R.prototype[V].apply(L,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,w){w||(w=0);var L=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)L[V]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(V=0;16>V;++V)L[V]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=k.g[0],w=k.g[1],V=k.g[2];var j=k.g[3],D=R+(j^w&(V^j))+L[0]+3614090360&4294967295;R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+L[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+L[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+L[3]+3250441966&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+L[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+L[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+L[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+L[7]+4249261313&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+L[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+L[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+L[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+L[11]+2304563134&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+L[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+L[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+L[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+L[15]+1236535329&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(V^j&(w^V))+L[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+L[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+L[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+L[0]+3921069994&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+L[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+L[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+L[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+L[4]+3889429448&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+L[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+L[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+L[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+L[8]+1163531501&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+L[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+L[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+L[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+L[12]+2368359562&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(w^V^j)+L[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+L[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+L[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+L[14]+4259657740&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+L[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+L[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+L[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+L[10]+3200236656&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+L[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+L[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+L[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+L[6]+76029189&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+L[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+L[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+L[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+L[2]+3299628645&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(V^(w|~j))+L[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+L[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+L[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+L[5]+4237533241&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+L[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+L[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+L[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+L[1]+2240044497&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+L[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+L[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+L[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+L[13]+1309151649&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+L[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+L[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+L[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+j&4294967295}s.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var w=R-this.blockSize,L=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=w;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<R;)if(L[V++]=k.charCodeAt(j++),V==this.blockSize){o(this,L),V=0;break}}else for(;j<R;)if(L[V++]=k[j++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var w=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=w&255,w/=256;for(this.u(k),k=Array(16),R=w=0;4>R;++R)for(var L=0;32>L;L+=8)k[w++]=this.g[R]>>>L&255;return k};function u(k,R){var w=m;return Object.prototype.hasOwnProperty.call(w,k)?w[k]:w[k]=R(k)}function f(k,R){this.h=R;for(var w=[],L=!0,V=k.length-1;0<=V;V--){var j=k[V]|0;L&&j==R||(w[V]=j,L=!1)}this.g=w}var m={};function p(k){return-128<=k&&128>k?u(k,function(R){return new f([R|0],0>R?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return A;if(0>k)return M(g(-k));for(var R=[],w=1,L=0;k>=w;L++)R[L]=k/w|0,w*=4294967296;return new f(R,0)}function E(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return M(E(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(R,8)),L=A,V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V),D=parseInt(k.substring(V,V+j),R);8>j?(j=g(Math.pow(R,j)),L=L.j(j).add(g(D))):(L=L.j(w),L=L.add(g(D)))}return L}var A=p(0),S=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(x(this))return-M(this).m();for(var k=0,R=1,w=0;w<this.g.length;w++){var L=this.i(w);k+=(0<=L?L:4294967296+L)*R,R*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(x(this))return"-"+M(this).toString(k);for(var R=g(Math.pow(k,6)),w=this,L="";;){var V=ae(w,R).g;w=B(w,V.j(R));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(k);if(w=V,O(w))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function x(k){return k.h==-1}r.l=function(k){return k=B(this,k),x(k)?-1:O(k)?0:1};function M(k){for(var R=k.g.length,w=[],L=0;L<R;L++)w[L]=~k.g[L];return new f(w,~k.h).add(S)}r.abs=function(){return x(this)?M(this):this},r.add=function(k){for(var R=Math.max(this.g.length,k.g.length),w=[],L=0,V=0;V<=R;V++){var j=L+(this.i(V)&65535)+(k.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);L=D>>>16,j&=65535,D&=65535,w[V]=D<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function B(k,R){return k.add(M(R))}r.j=function(k){if(O(this)||O(k))return A;if(x(this))return x(k)?M(this).j(M(k)):M(M(this).j(k));if(x(k))return M(this.j(M(k)));if(0>this.l(P)&&0>k.l(P))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,w=[],L=0;L<2*R;L++)w[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<k.g.length;V++){var j=this.i(L)>>>16,D=this.i(L)&65535,Ye=k.i(V)>>>16,it=k.i(V)&65535;w[2*L+2*V]+=D*it,X(w,2*L+2*V),w[2*L+2*V+1]+=j*it,X(w,2*L+2*V+1),w[2*L+2*V+1]+=D*Ye,X(w,2*L+2*V+1),w[2*L+2*V+2]+=j*Ye,X(w,2*L+2*V+2)}for(L=0;L<R;L++)w[L]=w[2*L+1]<<16|w[2*L];for(L=R;L<2*R;L++)w[L]=0;return new f(w,0)};function X(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function J(k,R){this.g=k,this.h=R}function ae(k,R){if(O(R))throw Error("division by zero");if(O(k))return new J(A,A);if(x(k))return R=ae(M(k),R),new J(M(R.g),M(R.h));if(x(R))return R=ae(k,M(R)),new J(M(R.g),R.h);if(30<k.g.length){if(x(k)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,L=R;0>=L.l(k);)w=le(w),L=le(L);var V=de(w,1),j=de(L,1);for(L=de(L,2),w=de(w,2);!O(L);){var D=j.add(L);0>=D.l(k)&&(V=V.add(w),j=D),L=de(L,1),w=de(w,1)}return R=B(k,V.j(R)),new J(V,R)}for(V=A;0<=k.l(R);){for(w=Math.max(1,Math.floor(k.m()/R.m())),L=Math.ceil(Math.log(w)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=g(w),D=j.j(R);x(D)||0<D.l(k);)w-=L,j=g(w),D=j.j(R);O(j)&&(j=S),V=V.add(j),k=B(k,D)}return new J(V,k)}r.A=function(k){return ae(this,k).h},r.and=function(k){for(var R=Math.max(this.g.length,k.g.length),w=[],L=0;L<R;L++)w[L]=this.i(L)&k.i(L);return new f(w,this.h&k.h)},r.or=function(k){for(var R=Math.max(this.g.length,k.g.length),w=[],L=0;L<R;L++)w[L]=this.i(L)|k.i(L);return new f(w,this.h|k.h)},r.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),w=[],L=0;L<R;L++)w[L]=this.i(L)^k.i(L);return new f(w,this.h^k.h)};function le(k){for(var R=k.g.length+1,w=[],L=0;L<R;L++)w[L]=k.i(L)<<1|k.i(L-1)>>>31;return new f(w,k.h)}function de(k,R){var w=R>>5;R%=32;for(var L=k.g.length-w,V=[],j=0;j<L;j++)V[j]=0<R?k.i(j+w)>>>R|k.i(j+w+1)<<32-R:k.i(j+w);return new f(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_E=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,qr=f}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vE,kl,EE,Fc,Em,TE,SE,bE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in _))break e;_=_[H]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,H={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,H,Q){for(var ce=Array(arguments.length-2),je=2;je<arguments.length;je++)ce[je-2]=arguments[je];return y.prototype[H].apply(b,ce)}}function x(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function M(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const H=c.length||0,Q=b.length||0;c.length=H+Q;for(let ce=0;ce<Q;ce++)c[H+ce]=b[ce]}else c.push(b)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var le=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function de(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,y){let _,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(_ in b)c[_]=b[_];for(let Q=0;Q<w.length;Q++)_=w[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,_){const b=it.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new B(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,te=!1,me=new Ye,C=()=>{const c=m.Promise.resolve(void 0);he=()=>{c.then($)}};var $=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}te=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function fe(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ae(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}O(fe,oe);var pe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Qe(c,y,_,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=H,this.key=++Oe,this.da=this.fa=!1}function Sn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,y,_,b,H){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ce=is(c,y,b,H);return-1<ce?(y=c[ce],_||(y.fa=!1)):(y=new Qe(y,this.src,Q,!!b,H),y.fa=_,c.push(y)),y};function ns(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],H=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(b,H,1),Q&&(Sn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function is(c,y,_,b){for(var H=0;H<c.length;++H){var Q=c[H];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return H}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),vo={};function cu(c,y,_,b,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)cu(c,y[Q],_,b,H);return null}return _=hu(_),c&&c[Ue]?c.K(y,_,g(b)?!!b.capture:!1,H):bn(c,y,_,!1,b,H)}function bn(c,y,_,b,H,Q){if(!y)throw Error("Invalid event type");var ce=g(H)?!!H.capture:!!H,je=Zs(c);if(je||(c[rs]=je=new Ei(c)),_=je.add(y,_,b,ce,Q),_.proxy)return _;if(b=Kh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)Z||(H=ce),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(ss(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kh(){function c(_){return y.call(c.src,c.listener,_)}const y=Yh;return c}function Eo(c,y,_,b,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Eo(c,y[Q],_,b,H);else b=g(b)?!!b.capture:!!b,_=hu(_),c&&c[Ue]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=is(Q,_,b,H),-1<_&&(Sn(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Zs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=is(y,_,b,H)),(_=-1<c?y[c]:null)&&$s(_))}function $s(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ue])ns(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ss(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=Zs(y))?(ns(_,c),_.h==0&&(_.src=null,y[rs]=null)):Sn(c)}}}function ss(c){return c in vo?vo[c]:vo[c]="on"+c}function Yh(c,y){if(c.da)c=!0;else{y=new fe(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&$s(c),c=_.call(b,y)}return c}function Zs(c){return c=c[rs],c instanceof Ei?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(y){return c.handleEvent(y)}),c[To])}function ft(){ue.call(this),this.i=new Ei(this),this.M=this,this.F=null}O(ft,ue),ft.prototype[Ue]=!0,ft.prototype.removeEventListener=function(c,y,_,b){Eo(this,c,y,_,b)};function Xe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var H=y;y=new oe(b,c),L(y,H)}if(H=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ce=y.g=_[Q];H=hn(ce,b,!0,y)&&H}if(ce=y.g=c,H=hn(ce,b,!0,y)&&H,H=hn(ce,b,!1,y)&&H,_)for(Q=0;Q<_.length;Q++)ce=y.g=_[Q],H=hn(ce,b,!1,y)&&H}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Sn(_[b]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ft.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function hn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var ce=y[Q];if(ce&&!ce.da&&ce.capture==_){var je=ce.listener,wt=ce.ha||ce.src;ce.fa&&ns(c.i,ce),H=je.call(wt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Yt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function fu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Qh extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){ue.call(this),this.h=c,this.g={}}O(as,ue);var os=[];function ls(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&$s(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,Ws=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function bo(c){return c.h||(c.h=c.i())}function Ao(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){oe.call(this,"d")}O(Si,oe);function wo(){oe.call(this,"c")}O(wo,oe);var $n={},Ro=null;function sr(){return Ro=Ro||new ft}$n.La="serverreachability";function Js(c){oe.call(this,$n.La,c)}O(Js,oe);function ar(c){const y=sr();Xe(y,new Js(y))}$n.STAT_EVENT="statevent";function du(c,y){oe.call(this,$n.STAT_EVENT,c),this.stat=y}O(du,oe);function at(c){const y=sr();Xe(y,new du(y,c))}$n.Ma="timingevent";function At(c,y){oe.call(this,$n.Ma,c),this.size=y}O(At,oe);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Io(c,y,_,b,H,Q){c.info(function(){if(c.g)if(Q)for(var ce="",je=Q.split("&"),wt=0;wt<je.length;wt++){var ze=je[wt].split("=");if(1<ze.length){var kt=ze[0];ze=ze[1];var Rt=kt.split("_");ce=2<=Rt.length&&Rt[1]=="type"?ce+(kt+"="+ze+"&"):ce+(kt+"=redacted&")}}else ce=null;else ce=Q;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+_+`
`+ce})}function Xh(c,y,_,b,H,Q,ce){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+_+`
`+Q+" "+ce})}function or(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,_)+(b?" "+b:"")})}function mu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return Un(_)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Wn(){}O(Wn,So),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},Zn=new Wn;function en(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Co={},ea={};function jn(c,y,_){c.L=1,c.v=ps(fn(y)),c.m=_,c.P=!0,Ai(c,null)}function Ai(c,y){c.F=Date.now(),hs(c),c.A=fn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Mo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new pt,c.g=Nu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Qh(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(os[0]=H.toString()),H=os);for(var Q=0;Q<H.length;Q++){var ce=cu(_,H[Q],b||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Cn(this.g);var y=this.g.Ba();const Oi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Oi?ar(3):ar(2)),ur(this);var _=this.g.Z();this.X=_;t:if(pu(this)){var b=Su(this.g);c="";var H=b.length,Q=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),Jn(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Xh(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,wt=this.g;if((je=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var ze=je;break t}}ze=null}if(_=ze)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,at(12),jt(this),Jn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ce.length;)if(zt=gu(this,ce),zt==ea){Rt==4&&(this.s=4,at(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Co){this.s=4,at(15),or(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,zt,null),fs(this,zt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ce.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,ce,"[Invalid Chunked Response]"),jt(this),Jn(this);else if(0<ce.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),bs(kt),kt.M=!0,at(11))}}else or(this.i,this.l,ce,null),fs(this,ce);Rt==4&&jt(this),this.o&&!this.J&&(Rt==4?Iu(this.j,this):(this.o=!1,hs(this)))}else ef(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),jt(this),Jn(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?ea:(_=Number(y.substring(_,b)),isNaN(_)?Co:(b+=1,b+_>y.length?ea:(y=y.slice(b,b+_),c.C=b+_,y)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function hs(c){c.S=Date.now()+c.I,yu(c,c.I)}function yu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(S(c.ba,c),y)}function ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mu(this.i,this.A),this.L!=2&&(ar(),at(17)),jt(this),this.s=2,Jn(this)):yu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Iu(c.j,c)}function jt(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||xo(_.h,c))){if(!c.K&&xo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fa(_),ca(_);else break e;jo(_),at(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(S(_.Za,_),6e3));if(1>=na(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Di(_,11)}else if((c.K||_.g==c)&&fa(_),!X(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const kt=ze[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const Rt=ze[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Oi=ze[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(b=1.5*Oi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const zt=c.g;if(zt){const ai=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var Q=b.h;Q.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ia(Q,Q.h),Q.h=null))}if(b.D){const Bo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(b.ya=Bo,We(b.I,b.D,Bo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ce=c;if(b.qa=xu(b,b.J?b.ia:null,b.W),ce.K){tn(b.h,ce);var je=ce,wt=b.L;wt&&(je.I=wt),je.B&&(ur(je),hs(je)),b.g=ce}else wu(b);0<_.i.length&&ha(_)}else ze[0]!="stop"&&ze[0]!="close"||Di(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Di(_,7):Lo(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}ar(4)}catch{}}var _u=class{constructor(c,y){this.g=c,this.map=y}};function wi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function na(c){return c.h?1:c.g?c.g.size:0}function xo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ia(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wi.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return x(c.i)}function $h(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Do(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ra(c),b=$h(c),H=b.length,Q=0;Q<H;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),H=null;if(0<=b){var Q=c[_].substring(0,b);H=c[_].substring(b+1)}else Q=c[_];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,_=new Ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),cr(this,y[4]),this.l=wn(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,Oo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?Wh:ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,sa)),c.join("")};function fn(c){return new Et(c)}function ms(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ii?(c.i=y,Eu(c.i,c.h)):(_||(y=gs(y,Jh)),c.i=new Ii(y,c.h))}function We(c,y,_){c.i.set(y,_)}function ps(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,ko=/[#\?:]/g,Wh=/[#\?]/g,Jh=/[#\?@]/g,sa=/#/g;function Ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ii.prototype,r.add=function(c,y){Rn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){Rn(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xi(c,y){return Rn(c),y=ei(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(_,b){_.forEach(function(H){c.call(y,H,b,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const H=c[b];for(let Q=0;Q<H.length;Q++)_.push(y[b])}return _},r.V=function(c){Rn(this);let y=[];if(typeof c=="string")xi(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Rn(this),this.i=null,c=ei(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Mo(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),x(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),ce=this.V(b);for(b=0;b<ce.length;b++){var H=Q;ce[b]!==""&&(H+="="+encodeURIComponent(String(ce[b]))),c.push(H)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Eu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,b){var H=b.toLowerCase();b!=H&&(Ci(this,b),Mo(this,H,_))},c)),c.j=y}function ys(c,y){const _=new An;if(m.Image){const b=new Image;b.onload=P(In,_,"TestLoadImage: loaded",!0,y,b),b.onerror=P(In,_,"TestLoadImage: error",!1,y,b),b.onabort=P(In,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=P(In,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function zn(c,y){const _=new An,b=new AbortController,H=setTimeout(()=>{b.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(H),Q.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(_)}catch{}}function _s(){this.g=new us}function ti(c,y,_){const b=_||"";try{Do(c,function(H,Q){let ce=H;g(H)&&(ce=Un(H)),y.push(b+Q+"="+encodeURIComponent(ce))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(hr,So),hr.prototype.g=function(){return new Ni(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ni,ft),r=Ni.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ni(this):ii(this),this.readyState==3&&Vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return de(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ot(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Po(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ge,ft);var aa=/^https?$/i,vs=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?bo(this.o):bo(Zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Tu(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)_.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,y,void 0))||b||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ce]of _)this.g.setRequestHeader(Q,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Tu(this,Q)}};function Tu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,oa(c),ri(c)}function oa(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},r.bb=function(){la(this)};function la(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Yt(c.Ea,0,c);else if(Xe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=ce===0){var H=String(c.D).match(ds)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),b=!aa.test(H?H.toLowerCase():"")}_=b}if(_)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var Q=2<Cn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",oa(c)}}finally{ri(c)}}}}function ri(c,y){if(c.g){Es(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ws(y)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(X(c[b]))continue;var _=V(c[b]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[H]||[];y[H]=Q,Q.push(_)}k(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ua(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ua.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){at(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=xu(this,null,this.W),ha(this)};function Lo(c){if(bu(c),c.G==3){var y=c.U++,_=fn(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),Ss(c,_),y=new en(c,c.j,y),y.L=2,y.v=ps(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Nu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}Cu(c)}function ca(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function bu(c){ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),fa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ha(c){if(!ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;he||C(),te||(he(),te=!0),me.add(y,c),c.B=0}}function tf(c,y){return na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(S(c.Ga,c,y),zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new en(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Au(this,H,y),_=fn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Ss(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Po(Q)))+"&"+y:this.m&&Ot(_,this.m,Q)),ia(this.h,H),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),H.T=!0,jn(H,_,null)):jn(H,_,y),this.G=2}}else this.G==3&&(c?Uo(this,c):this.i.length==0||ta(this.h)||Uo(this))};function Uo(c,y){var _;y?_=y.l:_=c.U++;const b=fn(c.I);We(b,"SID",c.K),We(b,"RID",_),We(b,"AID",c.T),Ss(c,b),c.m&&c.o&&Ot(b,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Au(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ia(c.h,_),jn(_,b,y)}function Ss(c,y){c.H&&de(c.H,function(_,b){We(y,b,_)}),c.l&&Do({},function(_,b){We(y,b,_)})}function Au(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var H=c.i;let Q=-1;for(;;){const ce=["count="+_];Q==-1?0<_?(Q=H[0].g,ce.push("ofs="+Q)):Q=0:ce.push("ofs="+Q);let je=!0;for(let wt=0;wt<_;wt++){let ze=H[wt].g;const kt=H[wt].map;if(ze-=Q,0>ze)Q=Math.max(0,H[wt].g-100),je=!1;else try{ti(kt,ce,"req"+ze+"_")}catch{b&&b(kt)}}if(je){b=ce.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;he||C(),te||(he(),te=!0),me.add(y,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(S(c.Fa,c),zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ca(this),Ru(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ru(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ss(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(fn(y)),_.m=null,_.P=!0,Ai(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ca(this),jo(this),at(19))};function fa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,y){var _=null;if(c.g==y){fa(c),bs(c),c.g=null;var b=2}else if(xo(c.h,y))_=y.D,tn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=sr(),Xe(b,new At(b,_)),ha(c)}else wu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&tf(c,y)||b==2&&jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Di(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const H=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(b,"https"),ps(b),H?ys(b.toString(),_):zn(b.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),Cu(c),bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const y=No(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,_){var b=_ instanceof Et?fn(_):new Et(_);if(b.g!="")y&&(b.g=y+"."+b.g),cr(b,b.s);else{var H=m.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Et(null);b&&ms(Q,b),y&&(Q.g=y),H&&cr(Q,H),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&We(b,_,y),We(b,"VER",c.la),Ss(c,b),b}function Nu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new hr({eb:_})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function da(){}da.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ft.call(this),this.g=new ua(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}O(nn,ft),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Lo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new _u(y.Ya++,c)),y.G==3&&ha(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,nn.aa.N.call(this)};function Ou(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Ou,Si);function ku(){wo.call(this),this.status=1}O(ku,wo);function si(c){this.g=c}O(si,Du),si.prototype.ua=function(){Xe(this.g,"a")},si.prototype.ta=function(c){Xe(this.g,new Ou(c))},si.prototype.sa=function(c){Xe(this.g,new ku)},si.prototype.ra=function(){Xe(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,bE=function(){return new da},SE=function(){return sr()},TE=$n,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Fc=lr,bi.COMPLETE="complete",EE=bi,Ao.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ft.prototype.listen=ft.prototype.K,kl=Ao,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,vE=Ge}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",wv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Qm("@firebase/firestore");function Ha(){return qs.logLevel}function ge(r,...e){if(qs.logLevel<=Ve.DEBUG){const n=e.map(Zm);qs.debug(`Firestore (${ho}): ${r}`,...n)}}function er(r,...e){if(qs.logLevel<=Ve.ERROR){const n=e.map(Zm);qs.error(`Firestore (${ho}): ${r}`,...n)}}function Wa(r,...e){if(qs.logLevel<=Ve.WARN){const n=e.map(Zm);qs.warn(`Firestore (${ho}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AE(r,s,n)}function AE(r,e,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||AE(e,o,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class RR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new wE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class CR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function Tm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=RE(),f=OR(u.encode(Iv(r,n)),u.encode(Iv(e,n)));return f!==0?f:Ne(s,o)}}n+=s>65535?2:1}return Ne(r.length,e.length)}function Iv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function OR(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ne(r[n],e[n]);return Ne(r.length,e.length)}function Ja(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,xv=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*xv);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Cv)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Nt(0,0))}static max(){return new Re(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class lt extends di{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends di{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return kR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new Gt([Nv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function MR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new Yr(o,Ee.empty(),e)}function VR(r){return new Yr(r.readTime,r.key,Fl)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Re.min(),Ee.empty(),Fl)}static max(){return new Yr(Re.max(),Ee.empty(),Fl)}}function PR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==LR)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(o=>o?re.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new re((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new re((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function jR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ah.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function wh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function zR(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="";function BR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Dv(e)),e=HR(r.get(n),e);return Dv(e)}function HR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case CE:n+="";break;default:n+=u}}return n}function Dv(r){return r+CE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Jr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function xE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Dt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new NE("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=qR.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xr(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="server_timestamp",OE="__type__",kE="__previous_value__",ME="__local_write_time__";function Jm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[OE])===null||n===void 0?void 0:n.stringValue)===DE}function Rh(r){const e=r.mapValue.fields[kE];return Jm(e)?Rh(e):e}function Gl(r){const e=Qr(r.mapValue.fields[ME].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const rh="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__type__",GR="__max__",Lc={mapValue:{}},PE="__vector__",sh="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jm(r)?4:YR(r)?9007199254740991:KR(r)?10:11:Ae(28295,{value:r})}function _i(r,e){if(r===e)return!0;const n=$r(r);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qr(o.timestampValue),m=Qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Xr(o.bytesValue).isEqual(Xr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?ih(f)===ih(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ja(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ov(f)!==Ov(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function Yl(r,e){return(r.values||[]).find(n=>_i(n,e))!==void 0}function eo(r,e){if(r===e)return 0;const n=$r(r),s=$r(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Mv(r.timestampValue,e.timestampValue);case 4:return Mv(Gl(r),Gl(e));case 5:return Tm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Xr(u),p=Xr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ne(m[g],p[g]);if(E!==0)return E}return Ne(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ne(_t(u.latitude),_t(f.latitude));return m!==0?m:Ne(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Vv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},S=f.fields||{},P=(m=A[sh])===null||m===void 0?void 0:m.arrayValue,O=(p=S[sh])===null||p===void 0?void 0:p.arrayValue,x=Ne(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return x!==0?x:Vv(P,O)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Lc.mapValue&&f===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(f===Lc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Tm(p[A],E[A]);if(S!==0)return S;const P=eo(m[p[A]],g[E[A]]);if(P!==0)return P}return Ne(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{Pe:n})}}function Mv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const n=Qr(r),s=Qr(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function Vv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function to(r){return Sm(r)}function Sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ee.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Sm(n.fields[f])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function Gc(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return Xr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Jr(s.fields,(u,f)=>{o+=u.length+Gc(f)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function bm(r){return!!r&&"integerValue"in r}function ep(r){return!!r&&"arrayValue"in r}function Pv(r){return!!r&&"nullValue"in r}function Lv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function KR(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[VE])===null||n===void 0?void 0:n.stringValue)===PE}function Ll(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Jr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ll(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(r.arrayValue.values[n]);return e}return Object.assign({},r)}function YR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Jr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(Ll(this.value))}}function LE(r){const e=[];return Jr(r.fields,(n,s)=>{const o=new Gt([n]);if(Kc(s)){const u=LE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Re.min(),Re.min(),Re.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Re.min(),Re.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Re.min(),Re.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function jv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{}class xt extends UE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $R(e,n,s):n==="array-contains"?new JR(e,s):n==="in"?new eI(e,s):n==="not-in"?new tI(e,s):n==="array-contains-any"?new nI(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZR(e,s):new WR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends UE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new vi(e,n)}matches(e){return jE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function jE(r){return r.op==="and"}function zE(r){return XR(r)&&jE(r)}function XR(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Am(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+to(r.value);if(zE(r))return r.filters.map(e=>Am(e)).join(",");{const e=r.filters.map(n=>Am(n)).join(",");return`${r.op}(${e})`}}function BE(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(r,e):r instanceof vi?function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&BE(f,o.filters[m]),!0):!1}(r,e):void Ae(19439)}function HE(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(r):r instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(HE).join(" ,")+"}"}(r):"Filter"}class $R extends xt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZR extends xt{constructor(e,n){super(e,"in",n),this.keys=qE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WR extends xt{constructor(e,n){super(e,"not-in",n),this.keys=qE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class JR extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ep(n)&&Yl(n.arrayValue,this.value)}}class eI extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class tI extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class nI extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function zv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new iI(r,e,n,s,o,u,f)}function tp(r){const e=Ie(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Am(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Ie=n}return e.Ie}function np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!BE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jv(r.startAt,e.startAt)&&jv(r.endAt,e.endAt)}function wm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rI(r,e,n,s,o,u,f,m){return new Ih(r,e,n,s,o,u,f,m)}function FE(r){return new Ih(r)}function Bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sI(r){return r.collectionGroup!==null}function Ul(r){const e=Ie(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new oh(u,s))}),n.has(Gt.keyField().canonicalString())||e.Ee.push(new oh(Gt.keyField(),s))}return e.Ee}function mi(r){const e=Ie(r);return e.de||(e.de=aI(e,Ul(r))),e.de}function aI(r,e){if(r.limitType==="F")return zv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)});const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return zv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Rm(r,e,n){return new Ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return np(mi(r),mi(e))&&r.limitType===e.limitType}function GE(r){return`${tp(mi(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>HE(o)).join(", ")}]`),wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(mi(r))}; limitType=${r.limitType})`}function xh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=Uv(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ul(s),o)||s.endAt&&!function(f,m,p){const g=Uv(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ul(s),o))}(r,e)}function oI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KE(r){return(e,n)=>{let s=!1;for(const o of Ul(r)){const u=lI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lI(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?eo(p,g):Ae(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new ht(Ee.comparator);function tr(){return uI}const YE=new ht(Ee.comparator);function Ml(...r){let e=YE;for(const n of r)e=e.insert(n.key,n);return e}function QE(r){let e=YE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zs(){return jl()}function XE(){return jl()}function jl(){return new Ys(r=>r.toString(),(r,e)=>r.isEqual(e))}const cI=new ht(Ee.comparator),hI=new Dt(Ee.comparator);function Le(...r){let e=hI;for(const n of r)e=e.add(n);return e}const fI=new Dt(Ne);function dI(){return fI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function $E(r){return{integerValue:""+r}}function mI(r,e){return zR(e)?$E(e):ip(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function pI(r,e,n){return r instanceof lh?function(o,u){const f={fields:{[OE]:{stringValue:DE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Jm(u)&&(u=Rh(u)),u&&(f.fields[kE]=u),{mapValue:f}}(n,e):r instanceof Ql?WE(r,e):r instanceof Xl?JE(r,e):function(o,u){const f=ZE(o,u),m=Hv(f)+Hv(o.Re);return bm(f)&&bm(o.Re)?$E(m):ip(o.serializer,m)}(r,e)}function gI(r,e,n){return r instanceof Ql?WE(r,e):r instanceof Xl?JE(r,e):n}function ZE(r,e){return r instanceof uh?function(s){return bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lh extends Nh{}class Ql extends Nh{constructor(e){super(),this.elements=e}}function WE(r,e){const n=eT(e);for(const s of r.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class Xl extends Nh{constructor(e){super(),this.elements=e}}function JE(r,e){let n=eT(e);for(const s of r.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class uh extends Nh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Hv(r){return _t(r.integerValue||r.doubleValue)}function eT(r){return ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Xl&&o instanceof Xl?Ja(s.elements,o.elements,_i):s instanceof uh&&o instanceof uh?_i(s.Re,o.Re):s instanceof lh&&o instanceof lh}(r.transform,e.transform)}class _I{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function tT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Oh(r.key,cn.none()):new nu(r.key,r.data,cn.none());{const n=r.data,s=un.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new es(r.key,s,new En(o.toArray()),cn.none())}}function vI(r,e,n){r instanceof nu?function(o,u,f){const m=o.value.clone(),p=Fv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof es?function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Fv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(nT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function zl(r,e,n,s){return r instanceof nu?function(u,f,m,p){if(!Yc(u.precondition,f))return m;const g=u.value.clone(),E=Gv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof es?function(u,f,m,p){if(!Yc(u.precondition,f))return m;const g=Gv(u.fieldTransforms,p,f),E=f.data;return E.setAll(nT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function EI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ZE(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function qv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ja(s,o,(u,f)=>yI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Dh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends Dh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function nT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Fv(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,gI(f,m,n[o]))}return s}function Gv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,pI(u,f,e))}return s}class Oh extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TI extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=XE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=tT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>qv(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>qv(n,s))}}class rp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return cI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new rp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,He;function wI(r){switch(r){case se.OK:return Ae(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function iT(r){if(r===void 0)return er("GRPC error has no .code"),se.UNKNOWN;switch(r){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return Ae(39323,{code:r})}}(He=bt||(bt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new qr([4294967295,4294967295],0);function Kv(r){const e=RE().encode(r),n=new _E;return n.update(e),new Uint8Array(n.digest())}function Yv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class sp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(qr.fromNumber(s)));return o.compare(RI)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Kv(e),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new sp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=Kv(e),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new kh(Re.min(),o,new ht(Ne),tr(),Le())}}class iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new iu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class rT{constructor(e,n){this.targetId=e,this.Ce=n}}class sT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Qv{constructor(){this.Fe=0,this.Me=Xv(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),n=Le(),s=Le();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new iu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Xv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class II{constructor(e){this.ze=e,this.je=new Map,this.He=tr(),this.Je=Uc(),this.Ye=Uc(),this.Ze=new ht(Ne)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(wm(u))if(s===0){const f=new Ee(u.path);this.tt(n,f,Wt.newNoDocument(f,Re.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xr(s).toUint8Array()}catch(p){if(p instanceof NE)return Wa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sp(f,o,u)}catch(p){return Wa(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&wm(m.target)){const p=new Ee(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Wt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Le();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new kh(e,n,this.Ze,this.He,s);return this.He=tr(),this.Je=Uc(),this.Ye=Uc(),this.Ze=new ht(Ne),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Qv,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Dt(Ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Dt(Ne),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Qv),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Uc(){return new ht(Ee.comparator)}function Xv(){return new ht(Ee.comparator)}const CI={asc:"ASCENDING",desc:"DESCENDING"},xI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class DI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Im(r,e){return r.useProto3Json||wh(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OI(r,e){return ch(r,e.toTimestamp())}function pi(r){return Ke(!!r,49232),Re.fromTimestamp(function(n){const s=Qr(n);return new Nt(s.seconds,s.nanos)}(r))}function ap(r,e){return Cm(r,e).canonicalString()}function Cm(r,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function oT(r){const e=lt.fromString(r);return Ke(fT(e),10190,{key:e.toString()}),e}function xm(r,e){return ap(r.databaseId,e.path)}function am(r,e){const n=oT(e);if(n.get(1)!==r.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(uT(n))}function lT(r,e){return ap(r.databaseId,e)}function kI(r){const e=oT(r);return e.length===4?lt.emptyPath():uT(e)}function Nm(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uT(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $v(r,e,n){return{name:xm(r,e),fields:n.value.mapValue.fields}}function MI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?se.UNKNOWN:iT(g.code);return new ve(E,g.message||"")}(f);n=new sT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=am(r,s.document.name),u=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):Re.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Qc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=am(r,s.document),u=s.readTime?pi(s.readTime):Re.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Qc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=am(r,s.document),u=s.removedTargetIds||[];n=new Qc([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AI(o,u),m=s.targetId;n=new rT(m,f)}}return n}function VI(r,e){let n;if(e instanceof nu)n={update:$v(r,e.key,e.value)};else if(e instanceof Oh)n={delete:xm(r,e.key)};else if(e instanceof es)n={update:$v(r,e.key,e.data),updateMask:FI(e.fieldMask)};else{if(!(e instanceof TI))return Ae(16599,{ft:e.type});n={verify:xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:OI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(r,e.precondition)),n}function PI(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?pi(o.updateTime):pi(u);return f.isEqual(Re.min())&&(f=pi(u)),new _I(f,o.transformResults||[])}(n,e))):[]}function LI(r,e){return{documents:[lT(r,e.path)]}}function UI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=lT(r,o);const u=function(g){if(g.length!==0)return hT(vi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Fa(S.field),direction:BI(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Im(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function jI(r){let e=kI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=cT(A);return S instanceof vi&&zE(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(O){return new oh(Ga(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,wh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(A){const S=!!A.before,P=A.values||[];return new ah(P,S)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const S=!A.before,P=A.values||[];return new ah(P,S)}(n.endAt)),rI(e,o,f,u,m,"F",p,g)}function zI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ga(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ga(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ga(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(n){return xt.create(Ga(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(s=>cT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(r):Ae(30097,{filter:r})}function BI(r){return CI[r]}function HI(r){return xI[r]}function qI(r){return NI[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Gt.fromServerFormat(r.fieldPath)}function hT(r){return r instanceof xt?function(n){if(n.op==="=="){if(Lv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if(Pv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if(Pv(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:HI(n.op),value:n.value}}}(r):r instanceof vi?function(n){const s=n.getFilters().map(o=>hT(o));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}}(r):Ae(54877,{filter:r})}function FI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.wt=e}}function KI(r){const e=jI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.Cn=new QI}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Yr.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class QI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dT=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(dT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new no(0)}static lr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LruGarbageCollector",XI=1048576;function Jv([r,e],[n,s]){const o=Ne(r,n);return o===0?Ne(e,s):o}class $I{constructor(e){this.Er=e,this.buffer=new Dt(Jv),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(Wv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?ge(Wv,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.mr(3e5)})}}class WI{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Ah.le);const s=new $I(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Zv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Ha()<=Ve.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function JI(r,e){return new WI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new Ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zl(s.mutation,o,En.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ml();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=tr();const f=jl(),m=function(){return jl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof es)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),zl(E.mutation,g,E.mutation.getFieldMask(),Nt.now())):f.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new tC(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=jl();let o=new ht((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||En.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=XE();E.forEach(S=>{if(!u.has(S)){const P=tT(n.get(S),s.get(S));P!==null&&A.set(S,P),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return re.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(zs());let m=Fl,p=u;return f.next(g=>re.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:QE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,p=>{const g=function(A,S){return new Ih(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Ml();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&zl(E.mutation,g,En.empty(),Nt.now()),xh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return re.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:KI(o.bundledQuery),readTime:pi(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.overlays=new ht(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bI(n,s));let u=this.Qr.get(n);u===void 0&&(u=Le(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.$r=new Dt(Lt.Ur),this.Kr=new Dt(Lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Lt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new lt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new lt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Le();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Ne(e.Zr,n.Zr)}static Wr(e,n){return Ne(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Dt(Lt.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Wm:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Ne);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),re.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new Ee(u),0);let m=new Dt(Ne);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),re.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return re.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Xr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.ii=e,this.docs=function(){return new ht(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=tr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=tr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||PR(VR(E),s)<=0||(o.has(E.key)||xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}si(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new lC(this)}getSize(e){return re.resolve(this.size)}}class lC extends eC{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.persistence=e,this.oi=new Ys(n=>tp(n),np),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new op,this.targetCount=0,this.ui=no.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),re.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new no(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Tr(n),re.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.ci={},this.overlays={},this.li=new Ah(0),this.hi=!1,this.hi=!0,this.Pi=new sC,this.referenceDelegate=e(this),this.Ti=new uC(this),this.indexManager=new YI,this.remoteDocumentCache=function(o){return new oC(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new GI(n),this.Ei=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new aC(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const o=new cC(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return re.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class cC extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Vi=new op,this.mi=null}static fi(e){return new lp(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,s=>{const o=Ee.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return re.or([()=>re.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.yi=new Ys(s=>BR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=JI(this,n)}static fi(e,n){return new hh(e,n)}di(){}Ai(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return re.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,f=>this.Dr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}Dr(e,n,s){return re.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return s1()?8:jR(Jt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new hC;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,f,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ha()<=Ve.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(Ha()<=Ve.DEBUG&&ge("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ha()<=Ve.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):re.resolve())}ws(e,n){if(Bv(n))return re.resolve(null);let s=mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rm(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ys.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(e,Rm(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return Bv(n)||o.isEqual(Re.min())?re.resolve(null):this.ys.getDocuments(e,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?re.resolve(null):(Ha()<=Ve.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.Fs(e,f,n,MR(o,Fl)).next(m=>m))})}vs(e,n){let s=new Dt(KE(e));return n.forEach((o,u)=>{xh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ha()<=Ve.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",qa(n)),this.ys.getDocumentsMatchingQuery(e,n,Yr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",dC=3e8;class mC{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ht(Ne),this.Os=new Ys(u=>tp(u),np),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function pC(r,e,n,s){return new mC(r,e,n,s)}async function pT(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function gC(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,S=A.keys();let P=re.resolve();return S.forEach(O=>{P=P.next(()=>E.getEntry(p,O)).next(x=>{const M=g.docVersions.get(O);Ke(M!==null,48541),x.version.compareTo(M)<0&&(A.applyToRemoteDocument(x,g),x.isValidDocument()&&(x.setReadTime(g.commitVersion),E.addEntry(x)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function gT(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function yC(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,A)));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(A,P),function(x,M,B){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=dC?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,P,E)&&m.push(n.Ti.updateTargetData(u,P))});let p=tr(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(_C(u,f,e.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(Re.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(A=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return re.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function _C(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=tr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ge(cp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function vC(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Wm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function EC(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Dm(r,e,n){const s=Ie(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!mo(f))throw f;ge(cp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function e0(r,e,n){const s=Ie(r);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Ie(p),S=A.Os.get(E);return S!==void 0?re.resolve(A.xs.get(S)):A.Ti.getTargetData(g,E)}(s,f,mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Le())).next(m=>(TC(s,oI(e),m),{documents:m,$s:u})))}function TC(r,e,n){let s=r.Ns.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class t0{constructor(){this.activeTargetIds=dI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SC{constructor(){this.xo=new t0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new t0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="ConnectivityMonitor";class i0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(n0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(n0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Om(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wC{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const f=Om(),m=this.jo(e,n.toUriEncodedString());ge(om,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=uo(g);return this.Jo(e,m,p,s,E).then(A=>(ge(om,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Wa(om,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Yo(e,n,s,o,u,f){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=AC[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class IC extends wC{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Om();return new Promise((m,p)=>{const g=new vE;g.setWithCredentials(!0),g.listenOnce(EE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Fc.NO_ERROR:const A=g.getResponseJson();ge($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Fc.TIMEOUT:ge($t,`RPC '${e}' ${f} timed out`),p(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const S=g.getStatus();if(ge($t,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const O=P==null?void 0:P.error;if(O&&O.status&&O.message){const x=function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(X)>=0?X:se.UNKNOWN}(O.status);p(new ve(x,O.message))}else p(new ve(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(se.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:f,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ge($t,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ge($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}I_(e,n,s){const o=Om(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=bE(),m=SE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ge($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.E_(A);let S=!1,P=!1;const O=new RC({Zo:M=>{P?ge($t,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(S||(ge($t,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ge($t,`RPC '${e}' stream ${o} sending:`,M),A.send(M))},Xo:()=>A.close()}),x=(M,B,X)=>{M.listen(B,J=>{try{X(J)}catch(ae){setTimeout(()=>{throw ae},0)}})};return x(A,kl.EventType.OPEN,()=>{P||(ge($t,`RPC '${e}' stream ${o} transport opened.`),O.__())}),x(A,kl.EventType.CLOSE,()=>{P||(P=!0,ge($t,`RPC '${e}' stream ${o} transport closed`),O.u_(),this.d_(A))}),x(A,kl.EventType.ERROR,M=>{P||(P=!0,Wa($t,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),O.u_(new ve(se.UNAVAILABLE,"The operation could not be completed")))}),x(A,kl.EventType.MESSAGE,M=>{var B;if(!P){const X=M.data[0];Ke(!!X,16349);const J=X,ae=(J==null?void 0:J.error)||((B=J[0])===null||B===void 0?void 0:B.error);if(ae){ge($t,`RPC '${e}' stream ${o} received error:`,ae);const le=ae.status;let de=function(w){const L=bt[w];if(L!==void 0)return iT(L)}(le),k=ae.message;de===void 0&&(de=se.INTERNAL,k="Unknown error status: "+le+" with message "+ae.message),P=!0,O.u_(new ve(de,k)),A.close()}else ge($t,`RPC '${e}' stream ${o} received:`,X),O.c_(X)}}),x(m,TE.STAT_EVENT,M=>{M.stat===Em.PROXY?ge($t,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Em.NOPROXY&&ge($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(r){return new DI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class _T{constructor(e,n,s,o,u,f,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new yT(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new ve(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ge(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ge(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends _T{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=MI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?pi(f.readTime):Re.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=Nm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=wm(p)?{documents:LI(u,p)}:{query:UI(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=aT(u,f.resumeToken);const g=Im(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const g=Im(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=zI(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=Nm(this.serializer),n.removeTarget=e,this.Q_(n)}}class xC extends _T{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=PI(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=Nm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>VI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class DC extends NC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(e,Cm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(se.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(e,Cm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ve(se.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class OC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(er(n),this.ua=!1):ge("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class kC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Qs(this)&&(ge(Fs,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.da.add(4),await ru(g),g.Va.set("Unknown"),g.da.delete(4),await Vh(g)}(this))})}),this.Va=new OC(s,o)}}async function Vh(r){if(Qs(r))for(const e of r.Aa)await e(!0)}async function ru(r){for(const e of r.Aa)await e(!1)}function vT(r,e){const n=Ie(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),mp(n)?dp(n):po(n).N_()&&fp(n,e))}function hp(r,e){const n=Ie(r),s=po(n);n.Ea.delete(e),s.N_()&&ET(n,e),n.Ea.size===0&&(s.N_()?s.k_():Qs(n)&&n.Va.set("Unknown"))}function fp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(r).Z_(e)}function ET(r,e){r.ma.Ke(e),po(r).X_(e)}function dp(r){r.ma=new II({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Va.ca()}function mp(r){return Qs(r)&&!po(r).O_()&&r.Ea.size>0}function Qs(r){return Ie(r).da.size===0}function TT(r){r.ma=void 0}async function MC(r){r.Va.set("Online")}async function VC(r){r.Ea.forEach((e,n)=>{fp(r,e)})}async function PC(r,e){TT(r),mp(r)?(r.Va.Pa(e),dp(r)):r.Va.set("Unknown")}async function LC(r,e,n){if(r.Va.set("Online"),e instanceof sT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){ge(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof Qc?r.ma.Xe(e):e instanceof rT?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Re.min()))try{const s=await gT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ma.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ea.get(g);E&&u.Ea.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ea.get(p);if(!E)return;u.Ea.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),ET(u,p);const A=new jr(E.target,p,g,E.sequenceNumber);fp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ge(Fs,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!mo(e))throw e;r.da.add(1),await ru(r),r.Va.set("Offline"),n||(n=()=>gT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ge(Fs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await Vh(r)})}function ST(r,e){return e().catch(n=>fh(r,n,e))}async function Ph(r){const e=Ie(r),n=Zr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Wm;for(;UC(e);)try{const o=await vC(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,jC(e,o)}catch(o){await fh(e,o)}bT(e)&&AT(e)}function UC(r){return Qs(r)&&r.Ia.length<10}function jC(r,e){r.Ia.push(e);const n=Zr(r);n.N_()&&n.ea&&n.ta(e.mutations)}function bT(r){return Qs(r)&&!Zr(r).O_()&&r.Ia.length>0}function AT(r){Zr(r).start()}async function zC(r){Zr(r).ia()}async function BC(r){const e=Zr(r);for(const n of r.Ia)e.ta(n.mutations)}async function HC(r,e,n){const s=r.Ia.shift(),o=rp.from(s,e,n);await ST(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ph(r)}async function qC(r,e){e&&Zr(r).ea&&await async function(s,o){if(function(f){return wI(f)&&f!==se.ABORTED}(o.code)){const u=s.Ia.shift();Zr(s).L_(),await ST(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Ph(s)}}(r,e),bT(r)&&AT(r)}async function s0(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),ge(Fs,"RemoteStore received new credentials");const s=Qs(n);n.da.add(3),await ru(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Vh(n)}async function FC(r,e){const n=Ie(r);e?(n.da.delete(2),await Vh(n)):e||(n.da.add(2),await ru(n),n.Va.set("Unknown"))}function po(r){return r.fa||(r.fa=function(n,s,o){const u=Ie(n);return u.oa(),new CC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:MC.bind(null,r),n_:VC.bind(null,r),i_:PC.bind(null,r),Y_:LC.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),mp(r)?dp(r):r.Va.set("Unknown")):(await r.fa.stop(),TT(r))})),r.fa}function Zr(r){return r.ga||(r.ga=function(n,s,o){const u=Ie(n);return u.oa(),new xC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:zC.bind(null,r),i_:qC.bind(null,r),na:BC.bind(null,r),ra:HC.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Ph(r)):(await r.ga.stop(),r.Ia.length>0&&(ge(Fs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new pp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(r,e){if(er("AsyncQueue",`${e}: ${r}`),mo(r))return new ve(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.pa=new ht(Ee.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(e,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class KC{constructor(){this.queries=o0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=o0(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ve(se.ABORTED,"Firestore shutting down"))}}function o0(){return new Ys(r=>GE(r),Ch)}async function YC(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new GC,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gp(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&yp(n)}async function QC(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XC(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Ma(o)&&(s=!0);f.ba=o}}s&&yp(n)}function $C(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function yp(r){r.Ca.forEach(e=>{e.next()})}var km,l0;(l0=km||(km={})).xa="default",l0.Cache="cache";class ZC{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.key=e}}class RT{constructor(e){this.key=e}}class WC{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.Za=KE(e),this.Xa=new Ya(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new a0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),P=xh(this.query,A)?A:null,O=!!S&&this.mutatedKeys.has(S.key),x=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let M=!1;S&&P?S.data.isEqual(P.data)?O!==x&&(s.track({type:3,doc:P}),M=!0):this.ru(S,P)||(s.track({type:2,doc:P}),M=!0,(p&&this.Za(P,p)>0||g&&this.Za(P,g)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),M=!0):S&&!P&&(s.track({type:1,doc:S}),M=!0,(p||g)&&(m=!0)),M&&(P?(f=f.add(P),u=x?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:f,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const f=e.nu.wa();f.sort((E,A)=>function(P,O){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:M})}};return x(P)-x(O)}(E.type,A.type)||this.Za(E.doc,A.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,f.length!==0||g?{snapshot:new io(this.query,e.Xa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new a0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new RT(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new wT(s))}),n}au(e){this.Ha=e.$s,this.Ya=Le();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return io.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const _p="SyncEngine";class JC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class e2{constructor(e){this.key=e,this.cu=!1}}class t2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Ys(m=>GE(m),Ch),this.Pu=new Map,this.Tu=new Set,this.Iu=new ht(Ee.comparator),this.Eu=new Map,this.du=new op,this.Au={},this.Ru=new Map,this.Vu=no.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function n2(r,e,n=!0){const s=OT(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await IT(s,e,n,!0),o}async function i2(r,e){const n=OT(r);await IT(n,e,!0,!1)}async function IT(r,e,n,s){const o=await EC(r.localStore,mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await r2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&vT(r.remoteStore,o),m}async function r2(r,e,n,s,o){r.fu=(A,S,P)=>async function(x,M,B,X){let J=M.view.tu(B);J.Cs&&(J=await e0(x.localStore,M.query,!1).then(({documents:k})=>M.view.tu(k,J)));const ae=X&&X.targetChanges.get(M.targetId),le=X&&X.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(J,x.isPrimaryClient,ae,le);return c0(x,M.targetId,de.ou),de.snapshot}(r,A,S,P);const u=await e0(r.localStore,e,!0),f=new WC(e,u.$s),m=f.tu(u.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);c0(r,n,g.ou);const E=new JC(e,n,f);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),g.snapshot}async function s2(r,e,n){const s=Ie(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!Ch(f,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hp(s.remoteStore,o.targetId),Mm(s,o.targetId)}).catch(fo)):(Mm(s,o.targetId),await Dm(s.localStore,o.targetId,!0))}async function a2(r,e){const n=Ie(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hp(n.remoteStore,s.targetId))}async function o2(r,e,n){const s=m2(r);try{const o=await function(f,m){const p=Ie(f),g=Nt.now(),E=m.reduce((P,O)=>P.add(O.key),Le());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=tr(),x=Le();return p.Bs.getEntries(P,E).next(M=>{O=M,O.forEach((B,X)=>{X.isValidDocument()||(x=x.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(M=>{A=M;const B=[];for(const X of m){const J=EI(X,A.get(X.key).overlayedDocument);J!=null&&B.push(new es(X.key,J,LE(J.value.mapValue),cn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,B,m)}).next(M=>{S=M;const B=M.applyToLocalDocumentSet(A,x);return p.documentOverlayCache.saveOverlays(P,M.batchId,B)})}).then(()=>({batchId:S.batchId,changes:QE(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Au[f.currentUser.toKey()];g||(g=new ht(Ne)),g=g.insert(m,p),f.Au[f.currentUser.toKey()]=g}(s,o.batchId,n),await su(s,o.changes),await Ph(s.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");n.reject(u)}}async function CT(r,e){const n=Ie(r);try{const s=await yC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ke(f.cu,14607):o.removedDocuments.size>0&&(Ke(f.cu,42227),f.cu=!1))}),await su(n,s,e)}catch(s){await fo(s)}}function u0(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const m=f.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const S of A.Sa)S.Fa(m)&&(g=!0)}),g&&yp(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l2(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new ht(Ee.comparator);f=f.insert(u,Wt.newNoDocument(u,Re.min()));const m=Le().add(u),p=new kh(Re.min(),new Map,new ht(Ne),f,m);await CT(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),vp(s)}else await Dm(s.localStore,e,!1).then(()=>Mm(s,e,n)).catch(fo)}async function u2(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await gC(n.localStore,e);NT(n,s,null),xT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,o)}catch(o){await fo(o)}}async function c2(r,e,n){const s=Ie(r);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ke(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);NT(s,e,n),xT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await su(s,o)}catch(o){await fo(o)}}function xT(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function NT(r,e,n){const s=Ie(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Mm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||DT(r,s)})}function DT(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(hp(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),vp(r))}function c0(r,e,n){for(const s of n)s instanceof wT?(r.du.addReference(s.key,e),h2(r,s)):s instanceof RT?(ge(_p,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||DT(r,s.key)):Ae(19791,{pu:s})}function h2(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(ge(_p,"New document in limbo: "+n),r.Tu.add(s),vp(r))}function vp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new Ee(lt.fromString(e)),s=r.Vu.next();r.Eu.set(s,new e2(n)),r.Iu=r.Iu.insert(n,s),vT(r.remoteStore,new jr(mi(FE(n.path)),s,"TargetPurposeLimboResolution",Ah.le))}}async function su(r,e,n){const s=Ie(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{f.push(s.fu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=up.Rs(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,g){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>re.forEach(g,S=>re.forEach(S.ds,P=>E.persistence.referenceDelegate.addReference(A,S.targetId,P)).next(()=>re.forEach(S.As,P=>E.persistence.referenceDelegate.removeReference(A,S.targetId,P)))))}catch(A){if(!mo(A))throw A;ge(cp,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const P=E.xs.get(S),O=P.snapshotVersion,x=P.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(S,x)}}}(s.localStore,u))}async function f2(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){ge(_p,"User change. New user:",e.toKey());const s=await pT(n.localStore,e);n.currentUser=e,function(u,f){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new ve(se.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await su(n,s.ks)}}function d2(r,e){const n=Ie(r),s=n.Eu.get(e);if(s&&s.cu)return Le().add(s.key);{let o=Le();const u=n.Pu.get(e);if(!u)return o;for(const f of u){const m=n.hu.get(f);o=o.unionWith(m.view.eu)}return o}}function OT(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l2.bind(null,e),e.lu.Y_=XC.bind(null,e.eventManager),e.lu.gu=$C.bind(null,e.eventManager),e}function m2(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return pC(this.persistence,new fC,e.initialUser,this.serializer)}Su(e){return new mT(lp.fi,this.serializer)}bu(e){return new SC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class p2 extends dh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ke(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZI(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new mT(s=>hh.fi(s,n),this.serializer)}}class Vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>u0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KC}()}createDatastore(e){const n=Mh(e.databaseInfo.databaseId),s=function(u){return new IC(u)}(e.databaseInfo);return function(u,f,m,p){return new DC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new kC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>u0(this.syncEngine,n,0),function(){return i0.C()?new i0:new bC}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new t2(o,u,f,m,p,g);return E&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);ge(Fs,"RemoteStore shutting down."),u.da.add(5),await ru(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vm.provider={build:()=>new Vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class y2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=IE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ge(Wr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ge(Wr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=gp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function um(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Wr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await pT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function h0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _2(r);ge(Wr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>s0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>s0(e.remoteStore,o)),r._onlineComponents=e}async function _2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Wr,"Using user provided OfflineComponentProvider");try{await um(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await um(r,new dh)}}else ge(Wr,"Using default OfflineComponentProvider"),await um(r,new p2(void 0));return r._offlineComponents}async function kT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Wr,"Using user provided OnlineComponentProvider"),await h0(r,r._uninitializedComponentsProvider._online)):(ge(Wr,"Using default OnlineComponentProvider"),await h0(r,new Vm))),r._onlineComponents}function v2(r){return kT(r).then(e=>e.syncEngine)}async function E2(r){const e=await kT(r),n=e.eventManager;return n.onListen=n2.bind(null,e.syncEngine),n.onUnlisten=s2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a2.bind(null,e.syncEngine),n}function T2(r,e,n={}){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new g2({next:S=>{E.xu(),f.enqueueAndForget(()=>QC(u,A)),S.fromCache&&p.source==="server"?g.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new ZC(m,E,{includeMetadataChanges:!0,Qa:!0});return YC(u,A)}(await E2(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e,n){if(!n)throw new ve(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function S2(r,e,n,s){if(e===!0&&s===!0)throw new ve(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function d0(r){if(!Ee.isDocumentKey(r))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function m0(r){if(Ee.isDocumentKey(r))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ep(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function nr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ep(r);throw new ve(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firestore.googleapis.com",p0=!0;class g0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=p0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:p0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XI)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wR;switch(s.type){case"firstParty":return new xR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=f0.get(n);s&&(ge("ComponentProvider","Removing Datastore"),f0.delete(n),s.terminate())}(this),Promise.resolve()}}function b2(r,e,n,s={}){var o;r=nr(r,Lh);const u=uo(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(cE(`https://${p}`),hE("Firestore",!0)),f.host!==PT&&f.host!==p&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Bs(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Zt.MOCK_USER;else{E=$w(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Zt(S)}r._authCredentials=new RR(new wE(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class Tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Gr extends Uh{constructor(e,n,s){super(e,n,FE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ee(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Ki(r,e,...n){if(r=Ut(r),VT("collection","path",e),r instanceof Lh){const s=lt.fromString(e,...n);return m0(s),new Gr(r,null,s)}{if(!(r instanceof Tn||r instanceof Gr))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return m0(s),new Gr(r.firestore,null,s)}}function st(r,e,...n){if(r=Ut(r),arguments.length===1&&(e=IE.newId()),VT("doc","path",e),r instanceof Lh){const s=lt.fromString(e,...n);return d0(s),new Tn(r,null,new Ee(s))}{if(!(r instanceof Tn||r instanceof Gr))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return d0(s),new Tn(r.firestore,r instanceof Gr?r.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new yT(this,"async_queue_retry"),this.rc=()=>{const s=lm();s&&ge(y0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Fr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!mo(e))throw e;ge(y0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,er("INTERNAL UNHANDLED ERROR: ",v0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=pp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Ae(47125,{cc:v0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function v0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class go extends Lh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new _0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function A2(r,e){const n=typeof r=="object"?r:pE(),s=typeof r=="string"?r:rh,o=$m(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Qw("firestore");u&&b2(o,...u)}return o}function Tp(r){if(r._terminated)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||w2(r),r._firestoreClient}function w2(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new FR(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,MT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new y2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Kt.fromBase64String(e))}catch(n){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=/^__.*__$/;class I2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class LT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:r})}}class wp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return mh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(UT(this.Ic)&&R2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class C2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Mh(e)}bc(e,n,s,o=!1){return new wp({Ic:e,methodName:n,wc:s,path:Gt.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rp(r){const e=r._freezeSettings(),n=Mh(r._databaseId);return new C2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function jT(r,e,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Ip("Data must be an object, but it was:",f,s);const m=HT(s,f);let p,g;if(u.merge)p=new En(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=Pm(e,A,n);if(!f.contains(S))throw new ve(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);FT(E,S)||E.push(S)}p=new En(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new I2(new un(m),p,g)}class jh extends Sp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function zT(r,e,n,s){const o=r.bc(1,e,n);Ip("Data must be an object, but it was:",o,s);const u=[],f=un.empty();Jr(s,(p,g)=>{const E=Cp(e,p,n);g=Ut(g);const A=o.mc(E);if(g instanceof jh)u.push(E);else{const S=zh(g,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new En(u);return new LT(f,m,o.fieldTransforms)}function BT(r,e,n,s,o,u){const f=r.bc(1,e,n),m=[Pm(e,s,n)],p=[o];if(u.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Pm(e,u[S])),p.push(u[S+1]);const g=[],E=un.empty();for(let S=m.length-1;S>=0;--S)if(!FT(g,m[S])){const P=m[S];let O=p[S];O=Ut(O);const x=f.mc(P);if(O instanceof jh)g.push(P);else{const M=zh(O,x);M!=null&&(g.push(P),E.set(P,M))}}const A=new En(g);return new LT(E,A,f.fieldTransforms)}function zh(r,e){if(qT(r=Ut(r)))return Ip("Unsupported field value:",e,r),HT(r,e);if(r instanceof Sp)return function(s,o){if(!UT(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=zh(m,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof bp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ro)return{bytesValue:aT(o.serializer,s._byteString)};if(s instanceof Tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ap)return function(f,m){return{mapValue:{fields:{[VE]:{stringValue:PE},[sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.gc("VectorValues must only contain numeric values.");return ip(m.serializer,g)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Ep(s)}`)}(r,e)}function HT(r,e){const n={};return xE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(r,(s,o)=>{const u=zh(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function qT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Nt||r instanceof bp||r instanceof ro||r instanceof Tn||r instanceof Sp||r instanceof Ap)}function Ip(r,e,n){if(!qT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Ep(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Pm(r,e,n){if((e=Ut(e))instanceof au)return e._internalPath;if(typeof e=="string")return Cp(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function Cp(r,e,n){if(e.search(x2)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new au(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ve(se.INVALID_ARGUMENT,m+r+p)}function FT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(KT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N2 extends GT{data(){return super.data()}}function KT(r,e){return typeof e=="string"?Cp(r,e):e instanceof au?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O2{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Jr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Ap(u)}convertGeoPoint(e){return new bp(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Rh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Ke(fT(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k2 extends GT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(KT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xc extends k2{data(e={}){return super.data(e)}}class M2{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xc(this._firestore,this._userDataWriter,s.key,s,new zc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Xc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:V2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}class P2 extends O2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Yi(r){r=nr(r,Uh);const e=nr(r.firestore,go),n=Tp(e),s=new P2(e);return D2(r._query),T2(n,r._query).then(o=>new M2(e,s,r,o))}function Qi(r,e,n){r=nr(r,Tn);const s=nr(r.firestore,go),o=YT(r.converter,e,n);return Bh(s,[jT(Rp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,cn.none())])}function xp(r,e,n,...s){r=nr(r,Tn);const o=nr(r.firestore,go),u=Rp(o);let f;return f=typeof(e=Ut(e))=="string"||e instanceof au?BT(u,"updateDoc",r._key,e,n,s):zT(u,"updateDoc",r._key,e),Bh(o,[f.toMutation(r._key,cn.exists(!0))])}function Gn(r){return Bh(nr(r.firestore,go),[new Oh(r._key,cn.none())])}function Bh(r,e){return function(s,o){const u=new Fr;return s.asyncQueue.enqueueAndForget(async()=>o2(await v2(s),o,u)),u.promise}(Tp(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,n,s){this._verifyNotCommitted();const o=cm(e,this._firestore),u=YT(o.converter,n,s),f=jT(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,cn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=cm(e,this._firestore);let f;return f=typeof(n=Ut(n))=="string"||n instanceof au?BT(this._dataReader,"WriteBatch.update",u._key,n,s,o):zT(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cm(e,this._firestore);return this._mutations=this._mutations.concat(new Oh(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cm(r,e){if((r=Ut(r)).firestore!==e)throw new ve(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r){return Tp(r=nr(r,go)),new L2(r,e=>Bh(r,e))}(function(e,n=!0){(function(o){ho=o})(co),Za(new Hs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new go(new IR(s.getProvider("auth-internal")),new NR(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Hr(Av,wv,e),Hr(Av,wv,"esm2017")})();function Np(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U2=XT,$T=new eu("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Qm("@firebase/auth");function j2(r,...e){ph.logLevel<=Ve.WARN&&ph.warn(`Auth (${co}): ${r}`,...e)}function $c(r,...e){ph.logLevel<=Ve.ERROR&&ph.error(`Auth (${co}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...e){throw Dp(r,...e)}function gi(r,...e){return Dp(r,...e)}function ZT(r,e,n){const s=Object.assign(Object.assign({},U2()),{[e]:n});return new eu("auth","Firebase",s).create(e,{appName:r.name})}function Kr(r){return ZT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return $T.create(r,...e)}function be(r,e,...n){if(!r)throw Dp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $c(e),new Error(e)}function ir(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function z2(){return E0()==="http:"||E0()==="https:"}function E0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||n1()||"connection"in navigator)?navigator.onLine:!0}function H2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Jw()||i1()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,e){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new ou(3e4,6e4);function Xs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ts(r,e,n,s,o={}){return JT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return t1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(g.credentials="include"),WT.fetch()(await eS(r,r.config.apiHost,n,m),g)})}async function JT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},q2),e);try{const o=new Y2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ZT(r,E,g);Yn(r,E)}}catch(o){if(o instanceof rr)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function Hh(r,e,n,s,o={}){const u=await ts(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function eS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return F2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function K2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),G2.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(r,e,s);return o.customData._tokenResponse=n,o}function T0(r){return r!==void 0&&r.enterprise!==void 0}class Q2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X2(r,e){return ts(r,"GET","/v2/recaptchaConfig",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r,e){return ts(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z2(r,e=!1){const n=Ut(r),s=await n.getIdToken(e),o=kp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(hm(o.auth_time)),issuedAtTime:Bl(hm(o.iat)),expirationTime:Bl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function hm(r){return Number(r)*1e3}function kp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=aE(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function S0(r){const e=kp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rr&&W2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function W2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await $l(r,gh(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?tS(u.providerUserInfo):[],m=tx(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Um(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function ex(r){const e=Ut(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function tS(r){return r.map(e=>{var{providerId:n}=e,s=Np(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(r,e){const n=await JT(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await eS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(p.credentials="include"),WT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ix(r,e){return ts(r,"POST","/v2/accounts:revokeToken",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=S0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Qa;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z2(this,e)}reload(){return ex(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await $l(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,x=(m=n.tenantId)!==null&&m!==void 0?m:void 0,M=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,B=(g=n.createdAt)!==null&&g!==void 0?g:void 0,X=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:ae,isAnonymous:le,providerData:de,stsTokenManager:k}=n;be(J&&k,e,"internal-error");const R=Qa.fromJSON(this.name,k);be(typeof J=="string",e,"internal-error"),kr(A,e.name),kr(S,e.name),be(typeof ae=="boolean",e,"internal-error"),be(typeof le=="boolean",e,"internal-error"),kr(P,e.name),kr(O,e.name),kr(x,e.name),kr(M,e.name),kr(B,e.name),kr(X,e.name);const w=new Kn({uid:J,auth:e,email:S,emailVerified:ae,displayName:A,isAnonymous:le,photoURL:O,phoneNumber:P,tenantId:x,stsTokenManager:R,createdAt:B,lastLoginAt:X});return de&&Array.isArray(de)&&(w.providerData=de.map(L=>Object.assign({},L))),M&&(w._redirectEventId=M),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new Qa;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Qa;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;function $i(r){ir(r instanceof Function,"Expected a class definition");let e=b0.get(r);return e?(ir(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,b0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nS.type="NONE";const A0=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r,e,n){return`firebase:${r}:${e}:${n}`}class Xa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Xa($i(A0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$i(A0);const f=Zc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const S=await gh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Kn._fromGetAccountInfoResponse(e,S,E)}else A=Kn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Xa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(uS(e))return"Webos";if(rS(e))return"Safari";if((e.includes("chrome/")||sS(e))&&!e.includes("edge/"))return"Chrome";if(oS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iS(r=Jt()){return/firefox\//i.test(r)}function rS(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sS(r=Jt()){return/crios\//i.test(r)}function aS(r=Jt()){return/iemobile/i.test(r)}function oS(r=Jt()){return/android/i.test(r)}function lS(r=Jt()){return/blackberry/i.test(r)}function uS(r=Jt()){return/webos/i.test(r)}function Mp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rx(r=Jt()){var e;return Mp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sx(){return r1()&&document.documentMode===10}function cS(r=Jt()){return Mp(r)||oS(r)||uS(r)||lS(r)||/windows phone/i.test(r)||aS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r,e=[]){let n;switch(r){case"Browser":n=w0(Jt());break;case"Worker":n=`${w0(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(r,e={}){return ts(r,"GET","/v2/passwordPolicy",Xs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=6;class ux{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:lx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Kr(this));const n=e?Ut(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ox(this),n=new ux(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ix(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&j2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yo(r){return Ut(r)}class R0{constructor(e){this.auth=e,this.observer=null,this.addObserver=f1(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hx(r){qh=r}function fS(r){return qh.loadJS(r)}function fx(){return qh.recaptchaEnterpriseScript}function dx(){return qh.gapiScript}function mx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class px{constructor(){this.enterprise=new gx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yx="recaptcha-enterprise",dS="NO_RECAPTCHA";class _x{constructor(e){this.type=yx,this.auth=yo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{X2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Q2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;T0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(dS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new px().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&T0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fx();p.length!==0&&(p+=m),fS(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function I0(r,e,n,s=!1,o=!1){const u=new _x(r);let f;if(o)f=dS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function C0(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await I0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await I0(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r,e){const n=$m(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function Ex(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Tx(r,e,n){const s=yo(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=mS(e),{host:f,port:m}=Sx(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Bs(g,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uo(f)?(cE(`${u}//${f}${p}`),hE("Auth",!0)):bx()}function mS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Sx(r){const e=mS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:x0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:x0(f)}}}function x0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function Ax(r,e){return ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(r,e){return Hh(r,"POST","/v1/accounts:signInWithPassword",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(r,e){return Hh(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,e))}async function Ix(r,e){return Hh(r,"POST","/v1/accounts:signInWithEmailLink",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Vp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,n,"signInWithPassword",wx);case"emailLink":return Rx(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C0(e,s,"signUpPassword",Ax);case"emailLink":return Ix(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,e){return Hh(r,"POST","/v1/accounts:signInWithIdp",Xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="http://localhost";class Gs extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Np(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Gs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,$a(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:Cx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nx(r){const e=Dl(Ol(r)).link,n=e?Dl(Ol(e)).deep_link_id:null,s=Dl(Ol(r)).deep_link_id;return(s?Dl(Ol(s)).link:null)||s||n||e||r}class Pp{constructor(e){var n,s,o,u,f,m;const p=Dl(Ol(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=xx((o=p.mode)!==null&&o!==void 0?o:null);be(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Nx(e);try{return new Pp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Pp.parseLink(n);return be(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends pS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends lu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends lu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends lu{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=N0(s);return new so({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=N0(s);return new so({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function N0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends rr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function gS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,s):u})}async function Dx(r,e,n=!1){const s=await $l(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return so._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(r,e,n=!1){const{auth:s}=r;if(Fn(s.app))return Promise.reject(Kr(s));const o="reauthenticate";try{const u=await $l(r,gS(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=kp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),so._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(r,e,n=!1){if(Fn(r.app))return Promise.reject(Kr(r));const s="signIn",o=await gS(r,s,e),u=await so._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function kx(r,e){return yS(yo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(r){const e=yo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Vx(r,e,n){return Fn(r.app)?Promise.reject(Kr(r)):kx(Ut(r),_o.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Mx(r),s})}function Px(r,e,n,s){return Ut(r).onIdTokenChanged(e,n,s)}function Lx(r,e,n){return Ut(r).beforeAuthStateChanged(e,n)}function Ux(r,e,n,s){return Ut(r).onAuthStateChanged(e,n,s)}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1e3,zx=10;class vS extends _S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);sx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vS.type="LOCAL";const Bx=vS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends _S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ES.type="SESSION";const TS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await Hx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function Fx(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function Gx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kx(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Yx(){return SS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebaseLocalStorageDb",Qx=1,Eh="firebaseLocalStorage",AS="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(r,e){return r.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function Xx(){const r=indexedDB.deleteDatabase(bS);return new uu(r).toPromise()}function jm(){const r=indexedDB.open(bS,Qx);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Eh,{keyPath:AS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await Xx(),e(await jm()))})})}async function D0(r,e,n){const s=Gh(r,!0).put({[AS]:e,value:n});return new uu(s).toPromise()}async function $x(r,e){const n=Gh(r,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function O0(r,e){const n=Gh(r,!0).delete(e);return new uu(n).toPromise()}const Zx=800,Wx=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Wx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(Yx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Gx(),!this.activeServiceWorker)return;this.sender=new qx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await D0(e,vh,"1"),await O0(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>D0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$x(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const Jx=wS;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r,e){return e?$i(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tN(r){return yS(r.auth,new Up(r),r.bypassAuthState)}function nN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),Ox(n,new Up(r),r.bypassAuthState)}async function iN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),Dx(n,new Up(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return iN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:Yn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new ou(2e3,1e4);class Ka extends RS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",Wc=new Map;class aN extends RS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await oN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(r,e){const n=cN(e),s=uN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function lN(r,e){Wc.set(r._key(),e)}function uN(r){return $i(r._redirectPersistence)}function cN(r){return Zc(sN,r.config.apiKey,r.name)}async function hN(r,e,n=!1){if(Fn(r.app))return Promise.reject(Kr(r));const s=yo(r),o=eN(s,e),f=await new aN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class dN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!IS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function IS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e={}){return ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function _N(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pN(r);for(const n of e)try{if(vN(n))return}catch{}Yn(r,"unauthorized-domain")}function vN(r){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!yN.test(n))return!1;if(gN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new ou(3e4,6e4);function M0(){const r=yi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function TN(r){return new Promise((e,n)=>{var s,o,u;function f(){M0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M0(),n(gi(r,"network-request-failed"))},timeout:EN.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=mx("iframefcb");return yi()[m]=()=>{gapi.load?f():n(gi(r,"network-request-failed"))},fS(`${dx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function SN(r){return Jc=Jc||TN(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new ou(5e3,15e3),AN="__/auth/iframe",wN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Op(e,wN):`https://${r.config.authDomain}/${AN}`,s={apiKey:e.apiKey,appName:r.name,v:co},o=IN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function xN(r){const e=await SN(r),n=yi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},bN.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,ON=600,kN="_blank",MN="http://localhost";class V0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VN(r,e,n,s=DN,o=ON){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},NN),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();n&&(m=sS(g)?kN:n),iS(g)&&(e=e||MN,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[P,O])=>`${S}${P}=${O},`,"");if(rx(g)&&m!=="_self")return PN(e||"",m),new V0(null);const A=window.open(e||"",m,E);be(A,r,"popup-blocked");try{A.focus()}catch{}return new V0(A)}function PN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",UN="emulator/auth/handler",jN=encodeURIComponent("fac");async function P0(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:co,eventId:o};if(e instanceof pS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",h1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof lu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${jN}=${encodeURIComponent(p)}`:"";return`${zN(r)}?${tu(m).slice(1)}${g}`}function zN({config:r}){return r.emulator?Op(r,UN):`https://${r.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TS,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await P0(e,n,s,Lm(),o);return VN(e,f,Lp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await P0(e,n,s,Lm(),o);return Fx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xN(e),s=new dN(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[fm];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_N(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cS()||rS()||Mp()}}const HN=BN;var L0="@firebase/auth",U0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Za(new Hs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hS(r)},g=new cx(s,o,u,p);return Ex(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Za(new Hs("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(s=>new qN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(L0,U0,FN(r)),Hr(L0,U0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=5*60,YN=uE("authIdTokenMaxAge")||KN;let j0=null;const QN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>YN)return;const o=n==null?void 0:n.token;j0!==o&&(j0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XN(r=pE()){const e=$m(r,"auth");if(e.isInitialized())return e.getImmediate();const n=vx(r,{popupRedirectResolver:HN,persistence:[Jx,Bx,TS]}),s=uE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=QN(u.toString());Lx(n,f,()=>f(n.currentUser)),Px(n,m=>f(m))}}const o=oE("auth");return o&&Tx(n,`http://${o}`),n}function $N(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}hx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$N().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");const ZN={apiKey:"AIzaSyB2gZd7ZxzN1kZK68-cs21TArpni7R1iWg",authDomain:"isac-och-veronica-recept.firebaseapp.com",projectId:"isac-och-veronica-recept",storageBucket:"isac-och-veronica-recept.firebasestorage.app",messagingSenderId:"698099949303",appId:"1:698099949303:web:e5aa5c994dc09ad556fdf2"},CS=mE(ZN),Pe=A2(CS),xS=XN(CS);function WN({listItems:r,data:e,setData:n,isGuestMode:s,onListItemClicked:o}){const[u,f]=G.useState({}),m=async x=>{s||await Qi(st(Pe,"planned_food",x.id.toString()),x)},p=async x=>{if(!s)try{await Gn(st(Pe,"planned_food",x.toString()))}catch(M){console.error("error deleting planned food"+M)}},g=async(x,M)=>{if(!s){const B=st(Pe,"planned_food",x.toString());await xp(B,{portions:M})}},E=async x=>{if(!s)try{const M=x.map(B=>B.amount===0?Gn(st(Pe,"shopping_list",B.id.toString())):Qi(st(Pe,"shopping_list",B.id.toString()),B,{merge:!0}));await Promise.all(M)}catch(M){console.error("could not update shopping list: "+M)}},A=(x,M)=>{const B=e.food_ingredients.filter(de=>de.food_id===x&&de.addToShoppingList),X=[...e.shopping_list],J=[],ae=e.foods.find(de=>de.id===x);for(const de of B){const k=de.amount/ae.portions*M,R=X.find(w=>w.id===de.ingredient_id);if(R){const w=R.amount+k;k!==0&&(R.amount=w<.01?0:w,J.push({...R}))}else{const w={id:de.ingredient_id,amount:Math.max(0,k),markedDone:!1};X.push(w),J.push(w)}}const le=X.filter(de=>de.amount>.01);n(de=>({...de,shopping_list:le})),E(J)},S=x=>{if(u[x]===void 0){console.log("the recipe was not in the pending list yet :(");return}const M={id:x,portions:u[x],markedDone:!1},B=e.planned_food.find(J=>J.id===x),X=M.portions-((B==null?void 0:B.portions)||0);if(u[x]===0){if(!B){f(J=>{const ae={...J};return delete ae[x],ae});return}p(x),n(J=>({...J,planned_food:J.planned_food.filter(ae=>ae.id!==x)}))}else B?(n(J=>({...J,planned_food:J.planned_food.map(ae=>ae.id===x?{...ae,portions:M.portions}:ae)})),g(x,M.portions)):(n(J=>({...J,planned_food:[...J.planned_food,M]})),m(M));A(x,X),f(J=>{const ae={...J};return delete ae[x],ae})},P=(x,M)=>{const B=u[x]+M;B<0||f(X=>({...X,[x]:B}))},O=x=>{let B=e.foods.find(J=>J.id===x).portions;const X=e.planned_food.find(J=>J.id===x);X&&(B=X.portions),f(J=>({...J,[x]:B}))};return I.jsx("div",{style:{margin:"0 auto"},className:"mt-4",children:I.jsx("ul",{className:"list-group d-flex",children:r.map(x=>I.jsxs("li",{className:"d-flex list-group-item align-items-center",onClick:()=>o(x.id),children:[I.jsx("div",{style:{textAlign:"left"},children:x.name}),u[x.id]!==void 0&&I.jsxs("div",{style:{height:"32px"},className:"d-flex ms-auto me-2",children:[I.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary button-portions",onClick:M=>{M.stopPropagation(),P(x.id,-1)},children:"-"}),I.jsx("input",{name:"portions",type:"number",className:"form-control input-portion",value:u[x.id],readOnly:!0,onClick:M=>{M.stopPropagation()}}),I.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary button-portions",onClick:M=>{M.stopPropagation(),P(x.id,1)},children:"+"})]}),u[x.id]===void 0?e.planned_food.some(M=>M.id===x.id)?I.jsx("button",{onClick:M=>{M.stopPropagation(),O(x.id)},className:"btn btn-secondary btn-sm ms-auto",type:"button",style:{width:"32px",height:"32px"},children:e.planned_food.find(M=>M.id===x.id).portions}):I.jsx("button",{onClick:M=>{M.stopPropagation(),O(x.id)},className:"btn btn-secondary btn-sm ms-auto",type:"button",style:{width:"32px",height:"32px"},children:"+"}):I.jsx("button",{onClick:M=>{M.stopPropagation(),S(x.id)},className:"btn btn-secondary btn-sm",type:"button",style:{width:"32px",height:"32px"},children:I.jsx("i",{className:"bi bi-check"})})]},x.id))})})}function JN({listItems:r,selectedFilters:e,toggleItemMarked:n}){return I.jsx("div",{style:{position:"absolute",zIndex:"1000",top:"100%",right:"0",width:"100%",margin:"0 auto"},className:"mt-0",children:I.jsx("ul",{className:"list-group d-flex",children:r.map(s=>{const o=e.includes(s.id);return I.jsxs("li",{className:"list-group-item d-flex",onClick:()=>{n(s.id)},style:{paddingTop:"4px",paddingBottom:"4px",paddingLeft:"10px"},children:[I.jsx("div",{className:"me-3",style:{textAlign:"left",fontSize:"14px"},children:s.keyword}),I.jsx("input",{type:"checkbox",checked:o,readOnly:!0,style:{pointerEvents:"none",textAlign:"right",marginLeft:"auto"}})]},s.id)})})})}function eD({data:r,setData:e,isGuestMode:n}){const[s,o]=G.useState(""),[u,f]=G.useState([]),[m,p]=G.useState(!1);let g=r.foods;s!==""&&(g=g.filter(x=>x.name.toLowerCase().includes(s.toLowerCase())));const E={};r.recipe_keywords.forEach(x=>{E[x.recipe_id]||(E[x.recipe_id]=new Set),E[x.recipe_id].add(x.keyword_id)}),u.length>0&&(g=g.filter(x=>{const M=E[x.id]||new Set;return u.some(B=>M.has(B))}));const A=lo(),S=x=>{A(`/recipe/${x}`)},P=G.useRef(),O=x=>{f(M=>M.includes(x)?M.filter(B=>B!==x):[...M,x])};return G.useEffect(()=>{function x(M){P.current&&!P.current.contains(M.target)&&p(!1)}return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"d-flex",style:{margin:"48px auto 0 auto",width:"90%"},children:[I.jsx("div",{style:{flex:"1"},children:I.jsx(jw,{input:s,setInput:o})}),I.jsxs("div",{ref:P,style:{position:"relative",width:"140px"},children:[I.jsx("button",{name:"filter",className:"formSelect input-group-text",onClick:()=>p(x=>!x),style:{width:"100%"},children:"Filter"}),m&&I.jsx(JN,{listItems:r.keywords,selectedFilters:u,toggleItemMarked:O})]})]}),I.jsx("div",{style:{width:"90%",margin:"0 auto"},children:I.jsx(WN,{listItems:g,onListItemClicked:S,data:r,setData:e,isGuestMode:n})})]})}function tD({data:r,setData:e,isGuestMode:n}){const s=async S=>{n||await Qi(st(Pe,"foods",S.id.toString()),S)},o=async S=>{n||await Qi(st(Pe,"ingredients",S.id.toString()),S)},u=async S=>{n||await Promise.all(S.map(P=>Qi(st(Pe,"food_ingredients",P.id.toString()),P)))},f=async S=>{n||await Promise.all(S.map(P=>Qi(st(Pe,"keywords",P.id.toString()),P)))},m=async S=>{n||await Promise.all(S.map(P=>Qi(st(Pe,"recipe_keywords",P.id.toString()),P)))},p=async(S,P)=>{n||(await Promise.all(S.map(O=>Gn(st(Pe,"food_ingredients",O.toString())))),await Promise.all(P.map(O=>Gn(st(Pe,"recipe_keywords",O.toString())))))},g=S=>{const P=parseFloat(S.cals)||0,O=Math.max(...r.ingredients.map(B=>B.id),0)+1,x=S.name.charAt(0).toUpperCase()+S.name.slice(1),M={id:O,unit:S.unit,category:S.category,name:x,cals:P};return r.ingredients.find(B=>B.name===S.name)?(console.log(M.name+" finns redan"),-1):(e(B=>({...B,ingredients:[...B.ingredients,M]})),o(M).catch(B=>console.log("could not add ingredient to database",B)),O)},E=(S,P,O)=>{let x=[],M=[],B=[],X=[];if(P){let w=r.food_ingredients.filter(V=>V.food_id===O),L=r.recipe_keywords.filter(V=>V.recipe_id===O);w.forEach(V=>{S.ingredients.find(D=>D.id===V.ingredient_id)?B.push({relationId:V.id,ingredientId:V.ingredient_id}):x.push(V.id)}),L.forEach(V=>{S.keywords.find(D=>D===V.keyword)?X.push({relationId:V.id,keywordId:V.keyword_id}):M.push(V.id)}),e(V=>({...V,foods:V.foods.filter(j=>j.id!==O),food_ingredients:V.food_ingredients.filter(j=>j.food_id!==O),recipe_keywords:V.recipe_keywords.filter(j=>j.recipe_id!==O)}))}const J=P?O:Math.max(...r.foods.map(w=>w.id||0),0)+1,ae=S.name.charAt(0).toUpperCase()+S.name.slice(1),le={id:J,name:ae,description:S.description,portions:S.portions};if(!P&&r.foods.find(w=>w.name===S.name)){console.log(S.name+" finns redan");return}const de=S.ingredients.map((w,L)=>{const V=B.find(j=>j.ingredientId===w.id);return{id:V?V.relationId:Math.max(...r.food_ingredients.map(j=>j.id||0),0)+1+L,food_id:J,ingredient_id:w.id,amount:w.amount,addToShoppingList:w.addToShoppingList}}),k=[],R=[];S.keywords.forEach((w,L)=>{const V=r.keywords.find(Ye=>Ye.keyword===w);let j;V?j=V.id:(j=Math.max(...r.keywords.map(Ye=>Ye.id||0),0)+1+k.length,k.push({id:j,keyword:w}));const D=X.find(Ye=>Ye.keywordId===j);R.push({id:D?D.id:Math.max(...r.recipe_keywords.map(Ye=>Ye.id||0),0)+1+L,recipe_id:J,keyword_id:j})}),e(w=>({...w,foods:[...w.foods,le],food_ingredients:[...w.food_ingredients,...de],recipe_keywords:[...w.recipe_keywords,...R],keywords:[...w.keywords,...k]})),P&&p(x,M).catch(w=>console.log("could not delete relations",w)),console.log(...R),s(le).catch(w=>console.log("could not add recipe to database",w)),u(de).catch(w=>console.log("could not add recipe-relations to database",w)),f(k).catch(w=>console.log("could not add keywords to database",w)),m(R).catch(w=>console.log("could not add keyword-relations to database",w))},A=Xn();return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"text-center mt-3",children:I.jsxs("ul",{className:"list-group list-group-horizontal d-inline-flex",children:[I.jsx("li",{className:A.pathname.endsWith("/recipe")?"list-group-item active":"list-group-item",children:I.jsx(Ur,{to:"recipe",className:"text-decoration-none text-reset",children:"Recept"})}),I.jsx("li",{className:A.pathname.endsWith("/ingredient")?"list-group-item active":"list-group-item",children:I.jsx(Ur,{to:"ingredient",className:"text-decoration-none text-reset",children:"Ingrediens"})})]})}),I.jsx(iw,{context:{data:r,addToRecipes:E,addToIngredients:g}})]})}function jp({listItems:r=[],deleteButton:e=!1,onDelete:n=()=>{},onToggle:s,inShoppingList:o=!1,onMarkedDone:u,shoppingListData:f}){return I.jsx("div",{className:"mb-1",children:I.jsxs("ul",{className:"list-group",children:[s&&I.jsx("p",{style:{marginLeft:"260px",width:"60px",fontSize:"9px",marginBottom:"0px",marginTop:"-20px"},children:I.jsx("i",{children:"exludera från inköpslista"})}),r.map((m,p)=>I.jsxs("li",{className:`d-flex p-1 align-items-center ${p!==0&&"my-list-border"}`,style:{fontSize:"15px"},children:[I.jsx("div",{className:"me-3",style:{flexBasis:"150px",textAlign:"left"},children:m.name}),I.jsx("div",{className:"me-1",style:{flexBasis:"36px",textAlign:"left"},children:m.amount>0&&m.amount}),I.jsx("div",{className:"me-2",style:{flexBasis:"30px",textAlign:"left"},children:m.amount>0&&m.unit}),o&&I.jsx("div",{onClick:()=>u(m.id),style:{marginLeft:"auto",marginRight:"8px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:f.find(g=>g.id===m.id).markedDone?"grey":"transparent",border:"1px solid black"}}),s&&I.jsx("div",{onClick:()=>s(m.id),style:{marginLeft:"30px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:m.addToShoppingList?"transparent":"grey",border:"1px solid black"}}),e&&I.jsx("button",{type:"button",className:"btn btn-sm ms-auto p-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},onClick:()=>n(m.id),children:I.jsx("i",{className:"bi bi-x fs-6 text-danger"})})]},p))]})})}function NS({listItems:r,onSelectItem:e}){return I.jsx("div",{style:{margin:"0 auto"},className:"mb-2",children:I.jsx("ul",{className:"list-group d-flex",children:r.map(n=>I.jsx("li",{className:"list-group-item",onClick:()=>{e(n.id)},children:I.jsx("div",{className:"me-3",style:{textAlign:"left"},children:n.name})},n.id))})})}function nD({data:r,setData:e,isGuestMode:n}){var oe;const[s,o]=G.useState(-1),[u,f]=G.useState(""),[m,p]=G.useState(!1),[g,E]=G.useState("g"),[A,S]=G.useState("kolonial"),[P,O]=G.useState(""),[x,M]=G.useState(""),[B,X]=G.useState(!1),[J,ae]=G.useState({});let le=r.ingredients;x!==""&&(le=le.filter(Z=>Z.name.toLowerCase().includes(x.toLowerCase())));const de=()=>{const Z=r.ingredients.find(fe=>fe.name.toLowerCase()===x.toLowerCase());Z&&(o(Z.id),M(""))},k=Z=>{o(Z),M(""),p(!1)},R=()=>{if(x===""&&s===-1)return;let Z=s;Z===-1&&(Z=w({name:x,unit:g,category:A})),V(Z,Number(u)),f(""),E("g"),S("kolonial"),o(-1),M(""),O(""),p(!1)},w=Z=>{const fe=parseFloat(Z.cals)||0,pe=Math.max(...r.ingredients.map(Qe=>Qe.id),0)+1,Ue=Z.name.charAt(0).toUpperCase()+Z.name.slice(1),Oe={id:pe,unit:Z.unit,category:Z.category,name:Ue,cals:fe};return e(Qe=>({...Qe,ingredients:[...Qe.ingredients,Oe]})),L(Oe).catch(Qe=>console.log("could not add new ingredient to database",Qe)),pe},L=async Z=>{n||await Qi(st(Pe,"ingredients",Z.id.toString()),Z)},V=(Z,fe)=>{const pe=r.shopping_list.find(Qe=>Qe.id===Z),Ue=pe?pe.amount+fe:fe;e(pe?Qe=>({...Qe,shopping_list:Qe.shopping_list.map(Sn=>Sn.id===Z?{...Sn,amount:Ue}:Sn)}):Qe=>({...Qe,shopping_list:[...Qe.shopping_list,{id:Z,amount:Ue,markedDone:!1}]})),J[Z]&&clearTimeout(J[Z]);const Oe=setTimeout(()=>{if(!n)try{Ue===0?Gn(st(Pe,"shopping_list",Z.toString())):Qi(st(Pe,"shopping_list",Z.toString()),{id:Z,amount:Ue},{merge:!0})}catch(Qe){console.error("could not access database to update shopping list: ",Qe)}},2e3);ae(Qe=>({...Qe,[Z]:Oe}))},j=async()=>{if(!n){const Z=Ki(Pe,"shopping_list"),pe=(await Yi(Z)).docs.map(Ue=>Gn(st(Pe,"shopping_list",Ue.id)));await Promise.all(pe)}},D=()=>{e(Z=>({...Z,shopping_list:[]})),j()},Ye=(Z,fe)=>Number(fe==="g"||fe==="ml"?parseFloat(Z).toPrecision(2):fe==="dl"?parseFloat(Z).toPrecision(3):parseFloat(Z).toPrecision(2)),it=r.shopping_list,W=[];for(const Z of it){const fe=r.ingredients.find(Ue=>Ue.id===Z.id),pe=Ye(Z.amount,fe.unit);W.push({id:Z.id,name:fe.name,amount:pe,unit:fe.unit,category:fe.category})}const he=Z=>{e(fe=>{const pe=fe.shopping_list.find(Oe=>Oe.id===Z);if(!pe)return fe;const Ue=!pe.markedDone;return te(Z,Ue),{...fe,shopping_list:fe.shopping_list.map(Oe=>Oe.id===Z?{...Oe,markedDone:Ue}:Oe)}})},te=async(Z,fe)=>{const pe=st(Pe,"shopping_list",Z.toString());await xp(pe,{markedDone:fe})},me=()=>{const Z=r.shopping_list.filter(fe=>fe.markedDone);e(fe=>({...fe,shopping_list:fe.shopping_list.filter(pe=>!pe.markedDone)})),C(Z)},C=async Z=>{const fe=QT(Pe);Z.forEach(pe=>{const Ue=st(Pe,"shopping_list",pe.id.toString());fe.delete(Ue)}),await fe.commit()},$=G.useRef();G.useEffect(()=>{function Z(fe){$.current&&!$.current.contains(fe.target)&&X(!1)}return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const ue=["kolonial","frukt och grönt","kött och chark","mejeri","bröd","frys","övrigt"];return I.jsxs("div",{style:{margin:"50px auto 0 auto",width:"90%"},children:[I.jsxs("div",{className:"mb-4",style:{position:"relative"},children:[I.jsxs("form",{className:"d-flex",autoComplete:"off",children:[I.jsx("input",{name:"search",type:"text",className:"form-control",value:x,onChange:Z=>{M(Z.target.value),o(-1),p(!1)},placeholder:s===-1?"Lägg till":r.ingredients.find(Z=>Z.id===s).name,onFocus:()=>p(!1),onBlur:()=>de()}),I.jsxs("div",{className:"input-group",style:{maxWidth:"160px"},children:[I.jsx("input",{name:"ingredientAmount",className:"form-control",type:"number",value:u,onChange:Z=>f(Z.target.value),placeholder:"Mängd",onFocus:()=>p(!0)}),s!==-1&&x===""?I.jsx("span",{className:"input-group-text",children:((oe=r.ingredients.find(Z=>Z.id===s))==null?void 0:oe.unit)||""}):(u!==""||m)&&I.jsx(I.Fragment,{children:I.jsxs("select",{id:"unit",name:"unit",className:"form-select input-group-text",style:{maxWidth:"50px",textAlign:"left"},value:g,onChange:Z=>E(Z.target.value),children:[I.jsx("option",{value:"g",children:"g"}),I.jsx("option",{value:"st",children:"st"}),I.jsx("option",{value:"ml",children:"ml"}),I.jsx("option",{value:"dl",children:"dl"}),I.jsx("option",{value:"msk",children:"msk"}),I.jsx("option",{value:"tsk",children:"tsk"})]})}),I.jsx("button",{onClick:R,type:"button",className:"btn btn-primary",children:"+"})]})]}),s===-1&&(u!==""||m)&&x!==""&&I.jsxs("div",{style:{maxWidth:"160px",marginLeft:"auto",position:"absolute",top:"100%",right:"0",zIndex:"1000",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[I.jsx("select",{id:"category",name:"category",className:"form-select",value:A,onChange:Z=>S(Z.target.value),children:ue.map(Z=>I.jsx("option",{value:Z,children:Z.charAt(0).toUpperCase()+Z.slice(1)},Z))}),I.jsx("input",{autoComplete:"off",id:"cals",name:"cals",type:"number",className:"form-control",value:P,onChange:Z=>O(Z.target.value),placeholder:"Kalorier/100g"})]})]}),x!==""&&I.jsx("div",{className:"mb-4 mx-auto",style:{maxWidth:"86%"},children:I.jsx(NS,{listItems:le,onSelectItem:k})}),ue.map(Z=>{const fe=W.filter(pe=>pe.category===Z);return fe.length===0?null:I.jsxs("div",{children:[I.jsx("p",{className:"mb-1 ps-1 mt-3",children:I.jsx("b",{children:Z.charAt(0).toUpperCase()+Z.slice(1)})}),I.jsx(jp,{listItems:fe,onMarkedDone:he,inShoppingList:!0,shoppingListData:r.shopping_list})]},Z)}),I.jsxs("div",{style:{width:"90%",margin:"0 auto"},className:"d-flex",children:[I.jsx("button",{onClick:()=>me(),style:{width:"50%",textAlign:"left"},className:"btn btn-secondary mt-4",children:"Rensa markerade"}),B?I.jsxs("div",{style:{width:"50%"},className:"d-flex btn btn-secondary mt-4 pe-0",children:[I.jsx("div",{children:"Säker?"}),I.jsx("button",{ref:$,style:{borderRadius:"6px",border:"1px solid currentColor",width:"24px",height:"24px",margin:"auto 8px auto auto"},className:"btn d-flex align-items-center justify-content-center",onClick:()=>D(),children:I.jsx("i",{className:"bi bi-check-lg fs-4 text-success"})})]}):I.jsx("button",{style:{width:"50%",textAlign:"left"},onClick:()=>X(!0),className:"btn btn-secondary mt-4 text-color-danger",children:"Rensa allt"})]})]})}function iD({listItems:r=[],plannedFoodData:e,onMarkedDone:n}){const s=lo();return I.jsx("div",{className:"mt-2 mb-1",children:I.jsx("ul",{className:"list-group",children:r.map((o,u)=>I.jsxs("li",{className:`d-flex p-1 align-items-center ${u!==0&&"my-list-border"}`,style:{fontSize:"15px"},onClick:()=>s(`/recipe/${o.id}`,{state:{from:"notHome"}}),children:[I.jsx("div",{className:"me-3",style:{flexBasis:"140px",textAlign:"left"},children:o.name}),I.jsx("div",{className:"me-1",style:{flexBasis:"14px",textAlign:"left"},children:o.portions}),I.jsx("div",{className:"me-1",style:{fontSize:"14px",flexBasis:"36px",textAlign:"left"},children:"Portioner"}),I.jsx("div",{onClick:f=>{f.stopPropagation(),n(o.id)},style:{marginLeft:"auto",marginRight:"8px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:e.find(f=>f.id===o.id).markedDone?"grey":"transparent",border:"1px solid black"}})]},u))})})}function rD({data:r,setData:e,isGuestMode:n}){const[s,o]=G.useState(!1),u=async()=>{if(!n){const O=Ki(Pe,"planned_food"),M=(await Yi(O)).docs.map(B=>Gn(st(Pe,"planned_food",B.id)));await Promise.all(M),console.log("Deleted planned food from database!")}},f=()=>{e(O=>({...O,planned_food:[]})),u()},m=r.planned_food,p=[];for(const O of m){const x=r.foods.find(M=>M.id===O.id);p.push({id:O.id,name:x.name,portions:O.portions})}const g=O=>{e(x=>{const M=x.planned_food.find(X=>X.id===O);if(!M)return x;const B=!M.markedDone;return E(O,B),{...x,planned_food:x.planned_food.map(X=>X.id===O?{...X,markedDone:B}:X)}})},E=async(O,x)=>{const M=st(Pe,"planned_food",O.toString());await xp(M,{markedDone:x})},A=()=>{const O=r.planned_food.filter(x=>x.markedDone);e(x=>({...x,planned_food:x.planned_food.filter(M=>!M.markedDone)})),S(O)},S=async O=>{const x=QT(Pe);O.forEach(M=>{const B=st(Pe,"planned_food",M.id.toString());x.delete(B)}),await x.commit()},P=G.useRef();return G.useEffect(()=>{function O(x){P.current&&!P.current.contains(x.target)&&o(!1)}return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),I.jsxs("div",{style:{margin:"50px auto 0 auto",width:"90%"},children:[I.jsx(iD,{listItems:p,plannedFoodData:r.planned_food,onMarkedDone:g}),I.jsxs("div",{style:{width:"90%",margin:"0 auto"},className:"d-flex",children:[I.jsx("button",{onClick:()=>A(),style:{width:"50%",textAlign:"left"},className:"btn btn-secondary mt-4",children:"Rensa markerade"}),s?I.jsxs("div",{style:{width:"50%"},className:"d-flex btn btn-secondary mt-4 pe-0",children:[I.jsx("div",{children:"Säker?"}),I.jsx("button",{ref:P,style:{borderRadius:"6px",border:"1px solid currentColor",width:"24px",height:"24px",margin:"auto 8px auto auto"},className:"btn d-flex align-items-center justify-content-center",onClick:()=>f(),children:I.jsx("i",{className:"bi bi-check-lg fs-4 text-success"})})]}):I.jsx("button",{style:{width:"50%",textAlign:"left"},onClick:()=>o(!0),className:"btn btn-secondary mt-4 text-color-danger",children:"Rensa allt"})]})]})}function sD({onHomeClick:r}){return I.jsxs("nav",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#fff",borderTop:"1px solid #ccc",display:"flex",justifyContent:"space-around",padding:"0.5rem",paddingBottom:"32px"},children:[I.jsx(Ur,{to:"/",onClick:r,children:I.jsx("i",{className:"bi bi-house-door-fill fs-2"})}),I.jsx(Ur,{to:"/addItem",children:I.jsx("i",{className:"bi bi-plus-lg fs-1"})}),I.jsx(Ur,{to:"/shoppingList",children:I.jsx("i",{className:"bi bi-cart3 fs-2"})}),I.jsx(Ur,{to:"/plannedFood",style:{paddingTop:"8px"},children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",className:"bi bi-fork-knife",viewBox:"0 0 16 16",children:I.jsx("path",{d:"M13 .5c0-.276-.226-.506-.498-.465-1.703.257-2.94 2.012-3 8.462a.5.5 0 0 0 .498.5c.56.01 1 .13 1 1.003v5.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5zM4.25 0a.25.25 0 0 1 .25.25v5.122a.128.128 0 0 0 .256.006l.233-5.14A.25.25 0 0 1 5.24 0h.522a.25.25 0 0 1 .25.238l.233 5.14a.128.128 0 0 0 .256-.006V.25A.25.25 0 0 1 6.75 0h.29a.5.5 0 0 1 .498.458l.423 5.07a1.69 1.69 0 0 1-1.059 1.711l-.053.022a.92.92 0 0 0-.58.884L6.47 15a.971.971 0 1 1-1.942 0l.202-6.855a.92.92 0 0 0-.58-.884l-.053-.022a1.69 1.69 0 0 1-1.059-1.712L3.462.458A.5.5 0 0 1 3.96 0z"})})})]})}function aD({onGuestLogin:r}){const[e,n]=G.useState(""),[s,o]=G.useState(""),[u,f]=G.useState(""),m=async p=>{p.preventDefault();try{await Vx(xS,e,s)}catch(g){f("fel inlogg :( ",g)}};return I.jsxs("div",{style:{maxWidth:"300px",margin:"2rem auto",textAlign:"center"},children:[I.jsx("h3",{children:"Login"}),I.jsxs("form",{onSubmit:m,children:[I.jsx("input",{className:"form-control mt-4",type:"email",value:e,required:!0,placeholder:"Epost",onChange:p=>n(p.target.value)}),I.jsx("input",{className:"form-control my-2",type:"password",value:s,required:!0,placeholder:"Lösenord",onChange:p=>o(p.target.value)}),u&&I.jsx("div",{style:{color:"red"},children:u}),I.jsx("button",{type:"submit",className:"btn btn-primary my-2",children:"Logga in"})]}),I.jsx("div",{children:"eller"}),I.jsx("button",{onClick:r,className:"btn btn-outline-secondary my-2",children:"Testa som gäst"})]})}function oD({data:r,setData:e,isGuestMode:n}){var J;const{id:s}=$0(),o=parseInt(s,10),u=r.foods.find(ae=>ae.id===o),[f,m]=G.useState(!1),[p,g]=G.useState(!1),E=r.food_ingredients.filter(ae=>ae.food_id===o).map(ae=>{const le=r.ingredients.find(de=>de.id===ae.ingredient_id);return{name:le.name,unit:le.unit,amount:ae.amount}}),A=lo(),P=(J=Xn().state)==null?void 0:J.from,O=()=>{A(`/addItem/edit-recipe/${u.id}`)},x=()=>{const ae=u.id;e(k=>({...k,foods:k.foods.filter(R=>R.id!==ae),food_ingredients:k.food_ingredients.filter(R=>R.food_id!==ae),recipe_keywords:k.recipe_keywords.filter(R=>R.recipe_id!==ae),planned_food:k.planned_food.filter(R=>R.id!==ae)}));const le=r.food_ingredients.filter(k=>k.food_id===ae).map(k=>k.id),de=r.recipe_keywords.filter(k=>k.recipe_id===ae).map(k=>k.id);n||M(ae,le,de),A("/")},M=async(ae,le,de)=>{const k=[Gn(st(Pe,"foods",ae.toString())),...le.map(R=>Gn(st(Pe,"food_ingredients",R.toString()))),...de.map(R=>Gn(st(Pe,"recipe_keywords",R.toString()))),Gn(st(Pe,"planned_food",ae.toString()))];await Promise.all(k)},B=G.useRef();G.useEffect(()=>{function ae(le){B.current&&!B.current.contains(le.target)&&(m(!1),g(!1))}return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const X=()=>{A(P==="notHome"?"/plannedFood":"/")};return u?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"d-flex",style:{width:"90%",margin:"20px auto 0 auto"},children:[I.jsx("button",{type:"button",onClick:()=>X(),className:"btn btn-sm rounded-circle btn-outline-dark me-auto d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",paddingRight:"10px"},children:I.jsx("i",{className:"bi bi-chevron-left fs-6"})}),I.jsxs("div",{style:{position:"relative"},children:[I.jsx("button",{type:"button",onClick:()=>m(!0),className:"btn btn-sm rounded-circle ms-auto btn-outline-dark d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},children:I.jsx("i",{className:"bi bi-three-dots fs-5"})}),f&&I.jsxs("ul",{ref:B,className:"list-group",style:{width:"156px",marginLeft:"auto",position:"absolute",fontSize:"20px",top:"100%",right:"0",zIndex:"1000",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[I.jsx("li",{className:"list-group-item d-flex align-items-center",style:{height:"50px"},onClick:O,children:"Redigera"}),p?I.jsxs("li",{className:"list-group-item d-flex",style:{height:"50px"},children:[I.jsx("div",{className:"text-danger text-align-left",children:"Säker?"}),I.jsx("button",{style:{borderRadius:"6px",border:"1px solid currentColor",width:"32px",height:"32px",margin:"auto 4px auto 8px"},className:"btn d-flex align-items-center justify-content-center",onClick:()=>x(u.id),children:I.jsx("i",{className:"bi bi-check-lg fs-4 text-success"})}),I.jsx("button",{style:{borderRadius:"6px",border:"1px solid currentColor",width:"32px",height:"32px",margin:"auto 0"},onClick:()=>{m(!1),g(!1)},className:"btn d-flex align-items-center justify-content-center",children:I.jsx("i",{className:"bi bi-x-lg"})})]}):I.jsx("li",{className:"list-group-item text-danger",style:{height:"50px"},onClick:()=>g(!0),children:"Radera"})]})]})]}),I.jsx("h1",{className:"text-center mt-4 mb-4",children:u.name}),I.jsx("div",{style:{width:"90%",margin:"0 auto"},children:I.jsx(jp,{listItems:E})})]}):I.jsx(I.Fragment,{})}function DS({includeAmount:r=!1,initialName:e="",addToIngredients:n}){const s=X0()||{},o=n??s.addToIngredients,[u,f]=G.useState({name:e||"",unit:"g",category:"kolonial",cals:"",amount:""}),m=g=>{const{name:E,value:A}=g.target;f(S=>({...S,[E]:A}))},p=g=>{if(g.preventDefault(),!u.name||!u.unit){console.log("saknas namn eller enhet");return}console.log(u),console.log(g),o(u),f({name:"",unit:"g",category:"kolonial",cals:"",amount:""})};return I.jsxs("form",{onSubmit:p,style:{width:"90%",margin:"0 auto"},className:"mt-3",autoComplete:"off",children:[I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{htmlFor:"ingredientName",className:"form-label",children:"Namn"}),I.jsx("input",{id:"ingredientName",name:"name",type:"text",className:"form-control",value:u.name,onChange:m,placeholder:"t.ex. Tomat"})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{htmlFor:"unit",className:"form-label",children:"Enhet"}),I.jsxs("select",{id:"unit",name:"unit",className:"form-select",value:u.unit,onChange:m,children:[I.jsx("option",{value:"g",children:"g"}),I.jsx("option",{value:"st",children:"st"}),I.jsx("option",{value:"ml",children:"ml"}),I.jsx("option",{value:"dl",children:"dl"}),I.jsx("option",{value:"msk",children:"msk"}),I.jsx("option",{value:"tsk",children:"tsk"})]})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{htmlFor:"category",className:"form-label",children:"Avdelning"}),I.jsxs("select",{id:"category",name:"category",className:"form-select",value:u.category,onChange:m,children:[I.jsx("option",{value:"kolonial",children:"Kolonial"}),I.jsx("option",{value:"frukt och grönt",children:"Frukt och grönt"}),I.jsx("option",{value:"kött och chark",children:"Kött och chark"}),I.jsx("option",{value:"mejeri",children:"Mejeri"}),I.jsx("option",{value:"bröd",children:"Bröd"}),I.jsx("option",{value:"frys",children:"Frys"}),I.jsx("option",{value:"övrigt",children:"Övrigt"})]})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{htmlFor:"cals",className:"form-label",children:"Kalorier/100g"}),I.jsx("input",{id:"cals",name:"cals",type:"number",className:"form-control",value:u.cals,onChange:m,placeholder:"t.ex. 280"})]}),r&&I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{htmlFor:"amount",className:"form-label",children:"Mängd"}),I.jsxs("div",{className:"input-group",children:[I.jsx("input",{id:"amount",name:"amount",type:"number",className:"form-control",value:u.amount,onChange:m}),I.jsx("span",{className:"input-group-text",children:u.unit||""})]})]}),I.jsx("button",{type:"submit",className:"btn btn-primary",children:"Lägg till"})]})}function lD({children:r,onClose:e}){return I.jsxs("div",{className:"shadow rounded",style:{position:"fixed",top:140,left:0,right:0,bottom:140,backgroundColor:"rgb(230, 230, 230)",justifyContent:"center",alignItems:"center",zIndex:1e3,width:"94%",margin:"0 auto"},children:[I.jsx("button",{style:{display:"block",marginLeft:"auto",marginRight:"6px",marginTop:"6px",marginBottom:"-20px"},className:"btn btn-secondary",onClick:e,children:"x"}),r]})}function uD({listItems:r=[],onDelete:e}){return I.jsx("div",{className:"mb-1",children:I.jsx("ul",{className:"list-group",children:r.map((n,s)=>I.jsxs("li",{className:`d-flex p-1 align-items-center ${s!==0&&"border-top"}`,children:[I.jsx("div",{className:"me-3",style:{textAlign:"left"},children:n}),I.jsx("button",{type:"button",className:"btn btn-sm ms-auto p-0 d-flex align-items-center justify-content-center",style:{width:"16px",height:"16px"},onClick:()=>e(s),children:I.jsx("i",{className:"bi bi-x fs-6 text-danger"})})]},s))})})}function cD({listItems:r,onSelectItem:e}){return I.jsx("div",{style:{margin:"0 auto"},className:"mt-0",children:I.jsx("ul",{className:"list-group d-flex",children:r.map(n=>I.jsx("li",{className:"list-group-item",onClick:()=>{e(n.id)},children:I.jsx("div",{className:"me-3",style:{textAlign:"left"},children:n.keyword})},n.id))})})}function z0(){var he;const e=Xn().pathname.includes("edit"),n=$0(),s=lo(),{data:o,addToRecipes:u,addToIngredients:f}=X0(),[m,p]=G.useState(-1),[g,E]=G.useState({name:"",ingredients:[],description:[""],portions:4,keywords:[]});G.useEffect(()=>{if(e){const te=o.foods.find($=>$.id===Number(n.id));if(!te)return;const me=o.food_ingredients.filter($=>$.food_id===te.id).map($=>({...o.ingredients.find(oe=>oe.id===$.ingredient_id),amount:$.amount,addToShoppingList:$.addToShoppingList})),C=o.recipe_keywords.filter($=>$.recipe_id===te.id).map($=>{const ue=o.keywords.find(oe=>oe.id===$.keyword_id);return(ue==null?void 0:ue.keyword)||""});E({name:te.name,ingredients:me,description:te.description,portions:te.portions,keywords:C})}},[e,o,n.id]);const[A,S]=G.useState(""),[P,O]=G.useState(""),[x,M]=G.useState(!1),[B,X]=G.useState("");let J=o.ingredients;P!==""&&(J=J.filter(te=>te.name.toLowerCase().includes(P.toLowerCase())));const ae=te=>{p(te),O("")},le=()=>{if(m===-1){console.log("ingredient missing");return}const te=o.ingredients.find(ue=>ue.id===m),me=te.name,C=te.unit||"g",$={id:m,name:me,amount:parseFloat(A)||0,unit:C,addToShoppingList:!0};!g.ingredients.find(ue=>ue.id===$.id)&&E(ue=>({...ue,ingredients:[...ue.ingredients,$]})),S(""),p(-1)},de=te=>{M(!1);const me=f(te);me!==-1&&E(C=>({...C,ingredients:[...C.ingredients,{id:me,name:te.name,amount:parseFloat(te.amount)||0,unit:te.unit,addToShoppingList:!0}]})),O(""),S("")},k=te=>{const{name:me,value:C}=te.target;E($=>({...$,[me]:C}))},R=()=>{if(!g.name){console.log("saknas namn");return}const te=e?Number(n.id):-1;u(g,e,te),e&&s(`/recipe/${n.id}`),E({name:"",ingredients:[],description:[""],portions:4,keywords:[]}),p(-1)},w=()=>{M(!0)},L=te=>{let me="";if(te===-1)me=B.charAt(0).toUpperCase()+B.slice(1);else{const C=o.keywords.find($=>$.id===te).keyword;me=C.charAt(0).toUpperCase()+C.slice(1)}g.keywords.includes(me)||E(C=>({...C,keywords:[...C.keywords,me]})),X("")},V=te=>{E(me=>({...me,ingredients:me.ingredients.filter(C=>C.id!==te)}))},j=()=>{E(te=>({...te,description:[...te.description,""]}))},D=te=>{g.description.length===1?E(me=>({...me,description:[""]})):E(me=>({...me,description:me.description.filter((C,$)=>$!==te)}))},Ye=(te,me)=>{E(C=>({...C,description:C.description.map(($,ue)=>ue===te?me:$)}))},it=te=>{E(me=>({...me,keywords:me.keywords.filter((C,$)=>$!==te)}))},W=te=>{E(me=>({...me,ingredients:me.ingredients.map(C=>C.id===te?{...C,addToShoppingList:!C.addToShoppingList}:C)}))};return I.jsxs(I.Fragment,{children:[e&&I.jsx("button",{type:"button",onClick:()=>s(`/recipe/${n.id}`),className:"btn btn-sm rounded-circle btn-outline-dark me-auto d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px",paddingRight:"10px",position:"fixed"},children:I.jsx("i",{className:"bi bi-chevron-left fs-6"})}),I.jsxs("form",{style:{width:"90%",margin:"0 auto"},className:"mt-4",autoComplete:"off",children:[I.jsx("div",{className:"mb-4",children:I.jsx("input",{id:"name",name:"name",type:"text",className:"form-control",value:g.name,onChange:k,placeholder:"Namn"})}),I.jsxs("div",{className:"mb-2",children:[I.jsx("label",{htmlFor:"search",className:"form-label",children:"Ingredienser"}),g.ingredients.length>0&&I.jsx(jp,{listItems:g.ingredients,deleteButton:!0,onDelete:V,onToggle:W}),I.jsxs("div",{className:"d-flex",children:[I.jsx("input",{id:"search",name:"search",type:"text",className:"form-control",value:P,onChange:te=>{O(te.target.value),p(-1)},placeholder:m===-1?"Sök":o.ingredients.find(te=>te.id===m).name}),I.jsxs("div",{className:"input-group",children:[I.jsx("input",{name:"ingredientAmount",className:"form-control",type:"number",value:A,onChange:te=>S(te.target.value),placeholder:"Mängd",readOnly:m===-1}),m!==-1&&I.jsx("span",{className:"input-group-text",children:((he=o.ingredients.find(te=>te.id===m))==null?void 0:he.unit)||""})]}),I.jsx("button",{onClick:()=>le(),type:"button",className:"btn btn-primary",children:"+"})]})]}),P!==""&&I.jsxs(I.Fragment,{children:[I.jsx(NS,{listItems:J,onSelectItem:ae}),I.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>w(),children:"➕ Lägg till ny"})]}),I.jsxs("div",{className:"mb-4 mt-3",children:[I.jsx("label",{className:"form-label fw-bold",children:"Steg:"}),g.description.map((te,me)=>I.jsxs("div",{className:"d-flex align-items-center mb-2",children:[I.jsx("input",{name:"description",type:"text",className:"form-control",value:te,onChange:C=>Ye(me,C.target.value),placeholder:`Steg ${me+1}`}),I.jsx("button",{type:"button",className:"btn btn-sm ms-2 p-0 d-flex align-items-center justify-content-center",style:{width:"20px",height:"19px"},onClick:()=>D(me),children:I.jsx("i",{className:"bi bi-x fs-6 text-danger"})})]},me)),I.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary mt-1",onClick:j,children:"+ Lägg till steg"})]}),I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{htmlFor:"portions",className:"form-label",children:"Portioner"}),I.jsxs("div",{style:{display:"flex"},children:[I.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>E(te=>({...te,portions:Math.max(te.portions-1)})),children:"-"}),I.jsx("input",{id:"portions",name:"portions",type:"number",className:"form-control",value:g.portions,readOnly:!0,style:{width:"40px",textAlign:"center",padding:"4px 0"}}),I.jsx("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>E(te=>({...te,portions:te.portions+1})),children:"+"})]})]}),I.jsxs("div",{children:[I.jsx("label",{htmlFor:"keywords",className:"form-label",children:"Nyckelord"}),g.keywords.length>0&&I.jsx(uD,{listItems:g.keywords,onDelete:it}),I.jsxs("div",{className:"d-flex",children:[I.jsx("input",{id:"keywords",name:"keywords",type:"text",className:"form-control",value:B,onChange:te=>X(te.target.value),placeholder:"Lägg till nyckelord"}),I.jsx("button",{onClick:()=>L(-1),type:"button",className:"btn btn-primary",children:"+"})]})]}),B!==""&&I.jsx(I.Fragment,{children:I.jsx(cD,{listItems:o.keywords.filter(te=>te.keyword.includes(B.toLowerCase())),onSelectItem:L})}),I.jsx("button",{type:"button",onClick:te=>{te.preventDefault(),R()},className:"mt-4 mb-2 btn btn-primary",children:e?"Spara":"Lägg till"})]}),x&&I.jsx(lD,{className:"",onClose:()=>M(!1),children:I.jsx(DS,{initialName:P,addToIngredients:de,includeAmount:!0})})]})}function hD({isGuestMode:r}){const[e,n]=G.useState({foods:[],ingredients:[],food_ingredients:[],planned_food:[],shopping_list:[],recipe_keywords:[],keywords:[]}),s=async()=>{const[m,p,g,E,A,S,P]=await Promise.all([Yi(Ki(Pe,"foods")),Yi(Ki(Pe,"ingredients")),Yi(Ki(Pe,"food_ingredients")),Yi(Ki(Pe,"planned_food")),Yi(Ki(Pe,"shopping_list")),Yi(Ki(Pe,"recipe_keywords")),Yi(Ki(Pe,"keywords"))]),O=m.docs.map(le=>le.data()),x=p.docs.map(le=>le.data()),M=g.docs.map(le=>le.data()),B=E.docs.map(le=>le.data()),X=A.docs.map(le=>le.data()),J=S.docs.map(le=>le.data()),ae=P.docs.map(le=>le.data());return{foods:O,ingredients:x,food_ingredients:M,planned_food:B,shopping_list:X,recipe_keywords:J,keywords:ae}};G.useEffect(()=>{r?n({foods:[{id:1,name:"Tomatsoppa",portions:4,description:["steg 1","steg 2"]},{id:2,name:"Pannkakor",portions:4,description:["steg 1","steg 2"]},{id:3,name:"Köttfärssås",portions:4,description:["steg 1","steg 2"]},{id:4,name:"Pasta Carbonara",portions:4,description:["steg 1","steg 2"]}],ingredients:[{id:1,name:"Tomat",unit:"g",cals:200},{id:2,name:"Grädde",unit:"dl",cals:200},{id:3,name:"Köttfärs",unit:"g",cals:200},{id:4,name:"Pasta",unit:"g",cals:200},{id:5,name:"Lök",unit:"st",cals:200},{id:6,name:"Bacon",unit:"g",cals:200},{id:7,name:"Mjöl",unit:"dl",cals:200},{id:8,name:"Mjölk",unit:"dl",cals:200}],food_ingredients:[{id:1,food_id:1,ingredient_id:1,addToShoppingList:!0,amount:1e3},{id:2,food_id:1,ingredient_id:2,addToShoppingList:!0,amount:2},{id:3,food_id:2,ingredient_id:8,addToShoppingList:!0,amount:4},{id:4,food_id:3,ingredient_id:2,addToShoppingList:!0,amount:2},{id:5,food_id:3,ingredient_id:4,addToShoppingList:!0,amount:500},{id:6,food_id:3,ingredient_id:3,addToShoppingList:!0,amount:1e3},{id:7,food_id:4,ingredient_id:2,addToShoppingList:!0,amount:2},{id:8,food_id:4,ingredient_id:4,addToShoppingList:!0,amount:400},{id:9,food_id:4,ingredient_id:5,addToShoppingList:!0,amount:2},{id:10,food_id:4,ingredient_id:6,addToShoppingList:!0,amount:140}],planned_food:[{id:1,portions:4},{id:2,portions:2}],shopping_list:[{id:2,amount:3}],recipe_keywords:[{id:1,recipe_id:1,keyword_id:1}],keywords:[{id:1,keyword:"Soppa"}]}):s().then(n)},[r]);const[o,u]=G.useState(0),f=()=>u(m=>m+1);return I.jsx("div",{className:"body",style:{paddingBottom:"100px",minHeight:"100vh",overflowX:"hidden"},children:I.jsxs("div",{style:{maxWidth:"550px",margin:"0 auto"},children:[I.jsxs(sw,{children:[I.jsx(fi,{path:"/",element:I.jsx(eD,{data:e,setData:n},o)}),I.jsx(fi,{path:"/recipe/:id",element:I.jsx(oD,{data:e,setData:n,isGuestMode:r})}),I.jsxs(fi,{path:"/addItem",element:I.jsx(tD,{data:e,setData:n,isGuestMode:r}),children:[I.jsx(fi,{index:!0,element:I.jsx(nw,{to:"recipe",replace:!0})}),I.jsx(fi,{path:"edit-recipe/:id",element:I.jsx(z0,{})}),I.jsx(fi,{path:"recipe",element:I.jsx(z0,{})}),I.jsx(fi,{path:"ingredient",element:I.jsx(DS,{})})]}),I.jsx(fi,{path:"/shoppingList",element:I.jsx(nD,{data:e,setData:n,isGuestMode:r})}),I.jsx(fi,{path:"/plannedFood",element:I.jsx(rD,{data:e,setData:n,isGuestMode:r})})]}),I.jsx(sD,{onHomeClick:f})]})})}function fD(){const[r,e]=G.useState(!1),[n,s]=G.useState(!1);return G.useEffect(()=>{const o=Ux(xS,u=>{e(!!u)});return()=>o()},[]),!r&&!n?I.jsx(aD,{onGuestLogin:()=>s(!0)}):I.jsx(I.Fragment,{children:I.jsx(xw,{children:I.jsx(hD,{isGuestMode:n})})})}hA.createRoot(document.getElementById("root")).render(I.jsx(G.StrictMode,{children:I.jsx(fD,{})}));
